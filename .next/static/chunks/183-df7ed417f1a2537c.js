(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[183],{45991:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var l=r(57437),s=r(14506),n=r(53456),i=r(99310),a=r(25791),o=r(13428),c=r(20791),d=r(2265),u=r(21975),h=r(35843),x=r(78078),p=r(29152),j=r(64651),m=r(99630),Z=r(35997),f=r(35512);let v=["quickFilterParser","quickFilterFormatter","debounceMs"],g=(0,h.ZP)(u.Z,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})(({theme:e})=>({width:"auto",paddingBottom:e.spacing(.5),"& input":{marginLeft:e.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},[`& input[type=search]::-ms-clear,
& input[type=search]::-ms-reveal`]:{display:"none",width:0,height:0},[`& input[type="search"]::-webkit-search-decoration,
  & input[type="search"]::-webkit-search-cancel-button,
  & input[type="search"]::-webkit-search-results-button,
  & input[type="search"]::-webkit-search-results-decoration`]:{display:"none"}})),b=e=>e.split(" ").filter(e=>""!==e),C=e=>e.join(" ");function y(e){var t,r;let s=(0,p.l)(),n=(0,j.B)(),i=(0,m.P)(s,Z.Az),{quickFilterParser:a=b,quickFilterFormatter:u=C,debounceMs:h=n.filterDebounceMs}=e,y=(0,c.Z)(e,v),[T,k]=d.useState(()=>u(null!=i?i:[])),S=d.useRef(i);d.useEffect(()=>{(0,f.xb)(S.current,i)||(S.current=i,k(e=>(0,f.xb)(a(e),i)?e:u(null!=i?i:[])))},[i,u,a]);let N=d.useCallback(e=>{let t=a(e);S.current=t,s.current.setQuickFilterValues(t)},[s,a]),O=d.useMemo(()=>(0,x.Z)(N,h),[N,h]),w=d.useCallback(e=>{let t=e.target.value;k(t),O(t)},[O]),_=d.useCallback(()=>{k(""),N("")},[N]);return(0,l.jsx)(g,(0,o.Z)({as:n.slots.baseTextField,ownerState:n,variant:"standard",value:T,onChange:w,placeholder:s.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":s.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},y,{InputProps:(0,o.Z)({startAdornment:(0,l.jsx)(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:(0,l.jsx)(n.slots.baseIconButton,(0,o.Z)({"aria-label":s.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:T?"visible":"hidden"},onClick:_},null==(t=n.slotProps)?void 0:t.baseIconButton,{children:(0,l.jsx)(n.slots.quickFilterClearIcon,{fontSize:"small"})}))},y.InputProps)},null==(r=n.slotProps)?void 0:r.baseTextField))}var T=r(61431),k=r(38038),S=r(67663),N=r(23588),O=r(57042);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let w=(0,r(62898).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var _=r(46716),F=r(19981),L=r(23377),I=r(10002),U=r(34321),P=r(74275),q=r.n(P);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}var A=(0,d.forwardRef)(function(e,t){var r=e.color,l=e.size,s=void 0===l?24:l,n=function(e,t){if(null==e)return{};var r,l,s=function(e,t){if(null==e)return{};var r,l,s={},n=Object.keys(e);for(l=0;l<n.length;l++)r=n[l],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,["color","size"]);return d.createElement("svg",D({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),d.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))});A.propTypes={color:q().string,size:q().oneOfType([q().string,q().number])},A.displayName="Play";var G=r(56656),V=r(54846),E=r.n(V);function B(){return(0,l.jsx)("div",{children:(0,l.jsx)(y,{color:"secondary",style:{maxWidth:300,padding:10},quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)})})}var M=e=>{let{feedsSettings:t,notifier:r=a.U,getAllFeedsAction:o=s.rU,deleteAction:c=s.gc,runFeedAction:u=s.zB}=e,[h,x]=(0,d.useState)(!1),[p,j]=(0,d.useState)(!1),[m,Z]=(0,d.useState)(""),[f,v]=(0,d.useState)(null),[g,b]=(0,d.useState)(null),C=(0,k.NL)(),y=(0,d.useCallback)(async()=>await o(),[o]),{data:P}=(0,S.a)({queryKey:["feedSettings"],queryFn:y,initialData:t}),q=(0,d.useMemo)(()=>null==P?void 0:P.find(e=>e.id===f),[P,f]),D=(0,d.useCallback)(async e=>{x(!0),"SUCCESS"===await r.toastDeletionAsync(async()=>{if(!await r.displayDeleteAlert())throw Error("CANCEL");return await c(e),"SUCCESS"})&&await C.invalidateQueries({queryKey:["feedSettings"]}),x(!1)},[c,r,C]),{mutateAsync:V,isPending:M}=(0,N.D)({mutationFn:async e=>{let{id:t,html:l}=e,s=r.startLoading("Run in progress");b(await u(t,l)),r.stopLoading(s)}}),R=(0,d.useMemo)(()=>{var e;return null!==(e=null==P?void 0:P.map(e=>({id:e.id,rulebookId:e.ruleBook.id,rulebookName:e.ruleBook.name,rulebookDescription:e.ruleBook.description,runType:e.runType})))&&void 0!==e?e:[]},[P]),z=(0,d.useMemo)(()=>[{field:"rulebookName",headerName:"Rulebook Name",sortable:!0,width:500},{field:"rulebookDescription",headerName:"Rulebook description",sortable:!0,width:500},{field:"actions",type:"actions",width:300,getActions:e=>[(0,l.jsx)(n.Z,{id:"3",placement:"bottom",title:"Update",children:(0,l.jsx)(_.Z,{variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover edit-btn",href:"/apps/feed-settings/form/".concat(e.id),disabled:p,children:(0,l.jsx)("span",{className:"btn-icon-wrap",children:(0,l.jsx)("span",{className:"feather-icon",children:(0,l.jsx)(I.Z,{})})})},1)},1),(0,l.jsx)(n.Z,{id:"3",placement:"bottom",title:"Delete",children:(0,l.jsx)(_.Z,{role:"deleteItem",onClick:()=>D(e.id.toString()),variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover delete-btn",disabled:p,children:(0,l.jsx)("span",{className:"btn-icon-wrap",children:(0,l.jsx)("span",{className:"feather-icon",children:(0,l.jsx)(U.Z,{color:"red"})})})},2)},2),e.row.runType===i.mA.WebBrowser?(0,l.jsx)(n.Z,{id:"3",placement:"bottom",title:"Run",children:(0,l.jsx)(_.Z,{role:"Run",onClick:()=>{v(e.id.toString()),j(!0)},variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover delete-btn",disabled:p,children:(0,l.jsx)("span",{className:"btn-icon-wrap",children:(0,l.jsx)("span",{className:"feather-icon",children:(0,l.jsx)(A,{color:"green"})})})})},3):(0,l.jsx)(n.Z,{id:"3",placement:"bottom",title:"Run",children:(0,l.jsx)(_.Z,{role:"Run",onClick:async()=>{await V({id:e.id.toString(),html:null}),Z("")},variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover delete-btn",disabled:p,children:(0,l.jsx)("span",{className:"btn-icon-wrap",children:(0,l.jsx)("span",{className:"feather-icon",children:(0,l.jsx)(A,{color:"green"})})})})},3)]}],[D,p,V]);return(0,l.jsxs)("div",{children:[(0,l.jsx)(F.Z.Dialog,{children:(0,l.jsxs)(F.Z,{size:"lg",show:p&&!!q,onHide:()=>j(!1),children:[(0,l.jsx)(F.Z.Header,{children:"Html content"}),(0,l.jsx)(F.Z.Body,{children:q&&(0,l.jsxs)("div",{className:E().modal,children:[(0,l.jsx)("a",{href:q.ruleBook.feedUrl,target:"_blank",children:"Click here to get html"}),(0,l.jsx)(L.Z.Control,{as:"textarea",onChange:e=>Z(e.target.value),value:m}),(0,l.jsx)(_.Z,{variant:"success",className:"mt-3",onClick:async()=>{j(!1),await V({id:null!=f?f:"",html:m}),Z("")},disabled:!m.trim().length||!f,children:"Run"})]})})]})}),(0,l.jsx)(F.Z.Dialog,{children:(0,l.jsx)(F.Z,{size:"sm",show:!!g,onHide:()=>b(null),children:g&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(F.Z.Header,{children:"Scraping result"}),(0,l.jsxs)(F.Z.Body,{className:E()["scraping-result-modal"],children:[g.isSuccess?(0,l.jsxs)("div",{className:(0,O.Z)(E().status,E().success),children:[(0,l.jsx)(G.Z,{color:"green",size:60}),(0,l.jsx)("h2",{children:"Success"})]}):(0,l.jsxs)("div",{className:(0,O.Z)(E().status,E().error),children:[(0,l.jsx)(w,{color:"red",size:60}),(0,l.jsx)("h2",{children:"Failed"})]}),(0,l.jsx)("h5",{children:g.message}),g.count>0&&(0,l.jsxs)("span",{children:[g.count," details founds"]})]})]})})}),(0,l.jsx)(T._$,{columns:z,disableColumnFilter:!0,disableColumnSelector:!0,disableDensitySelector:!0,rows:R,slots:{toolbar:B},loading:h,slotProps:{toolbar:{showQuickFilter:!0}}})]})}},25705:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return T}});var l=r(57437),s=r(14506),n=r(89173),i=r.n(n),a=r(23615),o=r(88254),c=r(12593),d=r(31130),u=r(16862),h=r(38038),x=r(23588),p=r(2265),j=r(44156),m=r(38597),Z=r(94434),f=r(23377),v=r(46716),g=r(61865),b=r(94022),C=e=>{var t,r,n,C,y,T,k,S,N,O,w,_,F,L,I,U,P,q,D;let{defaultValues:A,rulebooks:G,notifier:V=u.U0,updateAction:E=s.Vp,creationAction:B=s.H4,updateId:M}=e,{control:R,handleSubmit:z,formState:{errors:H,isDirty:Q},register:K,watch:X,setError:W,reset:$}=(0,g.cI)({resolver:d.F_,mode:"onBlur",defaultValues:A}),{append:J,remove:Y,fields:ee}=(0,g.Dq)({control:R,name:"feedSettingCleanupConfigs"}),et=X("runType"),er=(0,h.NL)(),el=(0,p.useMemo)(()=>{var e;return null!==(e=null==G?void 0:G.map(e=>({label:e.name,value:e.id})))&&void 0!==e?e:[]},[G]),es=(0,p.useCallback)(async e=>{if((null==e?void 0:e.status)===400){let t=e.errors;throw t||(t=(await e.json()).errors),Object.entries(t).forEach(e=>{var t;let[r,l]=e;W((0,u.js)(r),{type:"manual",message:null!==(t=l[0])&&void 0!==t?t:"Invalid"})}),Error("UNKNOWN")}return"SUCCESS"},[W]),{mutateAsync:en,isPending:ei}=(0,x.D)({mutationFn:async e=>await V.toastCreationAsync(async()=>es(await B(e)))}),{mutateAsync:ea,isPending:eo}=(0,x.D)({mutationFn:async e=>await V.toastCreationAsync(async()=>es(await E(null!=M?M:"",e)))}),ec=(0,p.useCallback)(async e=>{"SUCCESS"===("create"===M?await en(e):await ea(e))&&(await er.invalidateQueries({queryKey:["feedSettings","rulebooks"]}),"create"===M&&$())},[en,er,$,ea,M]);return(0,l.jsx)("fieldset",{disabled:ei||eo,children:(0,l.jsxs)("form",{onSubmit:z(ec),children:[(0,l.jsx)(j.Z,{className:"mb-4",children:(0,l.jsxs)(j.Z.Item,{eventKey:"0",children:[(0,l.jsx)(j.Z.Header,{children:"Clean html config"}),(0,l.jsx)(j.Z.Body,{children:(0,l.jsxs)("div",{className:"mh-350p overflow-auto",children:[ee.map((e,t)=>{var r,s,n;return(0,l.jsxs)("fieldset",{className:"border border-1 p-3 mb-3 rounded-1",children:[(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"feedSettingCleanupConfigs.".concat(t,".newTextOrHtml"),children:"New text or html"}),(0,l.jsx)(f.Z.Control,{...K("feedSettingCleanupConfigs.".concat(t,".newTextOrHtml"))})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"feedSettingCleanupConfigs.".concat(t,".oldText"),children:"Old text"}),(0,l.jsx)(f.Z.Control,{...K("feedSettingCleanupConfigs.".concat(t,".oldText"))})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"feedSettingCleanupConfigs.".concat(t,".xpath"),children:"XPath"}),(0,l.jsx)(f.Z.Control,{...K("feedSettingCleanupConfigs.".concat(t,".xpath"))})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"feedSettingCleanupConfigs.".concat(t,".typeOfModification"),children:"Type of modification"}),(0,l.jsx)(a.SelectListString,{control:R,name:"feedSettingCleanupConfigs.".concat(t,".typeOfModification"),className:i()["select-container"],classNamePrefix:"react-select",options:Object.values(c.A$),defaultValue:null!==(n=null===(s=A.feedSettingCleanupConfigs)||void 0===s?void 0:null===(r=s[t])||void 0===r?void 0:r.typeOfModification)&&void 0!==n?n:"",splitOptions:!0})]})})]}),(0,l.jsx)(v.Z,{onClick:()=>Y(t),variant:"danger",className:"mt-2",children:"Remove"})]},t)}),(0,l.jsxs)("div",{className:"d-flex gap-2",children:[(0,l.jsx)(v.Z,{onClick:()=>J({newTextOrHtml:"",oldText:"",xpath:"",typeOfModification:void 0}),variant:"outline-primary",children:"Add config"}),(0,l.jsx)(v.Z,{type:"submit",disabled:!Q,children:"Save changes"})]})]})})]})}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"ruleBookId",children:"Rulebooks"}),(0,l.jsx)(g.Qr,{render:e=>{let{field:t}=e;return(0,l.jsx)(b.ZP,{...t,options:el,defaultValue:null==G?void 0:G.filter(e=>e.id===A.ruleBookId).map(e=>({value:e.id,label:e.name})),onChange:e=>{var r;t.onChange(null!==(r=null==e?void 0:e.value)&&void 0!==r?r:"")},value:el.find(e=>e.value===t.value)})},name:"ruleBookId",control:R}),(0,l.jsx)(o.Z,{errors:H.ruleBookId})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"mainContainer",children:"Main container selector"}),(0,l.jsx)(f.Z.Control,{...K("mainContainer"),defaultValue:A.mainContainer,isInvalid:!!H.mainContainer}),(0,l.jsx)(o.Z,{errors:H.mainContainer})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"partOrUsTitleContainer",children:"Part of us title container selector"}),(0,l.jsx)(f.Z.Control,{...K("partOrUsTitleContainer"),defaultValue:A.partOrUsTitleContainer,isInvalid:!!H.partOrUsTitleContainer}),(0,l.jsx)(o.Z,{errors:H.partOrUsTitleContainer})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"partOrUsTitleText",children:"Part or us title text selector"}),(0,l.jsx)(f.Z.Control,{...K("partOrUsTitleText"),defaultValue:A.partOrUsTitleText,isInvalid:!!H.partOrUsTitleText}),(0,l.jsx)(o.Z,{errors:H.partOrUsTitleText})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"titleOrUsChapterContainer",children:"Title or us chapter container selector"}),(0,l.jsx)(f.Z.Control,{...K("titleOrUsChapterContainer"),defaultValue:A.titleOrUsChapterContainer,isInvalid:!!H.titleOrUsChapterContainer}),(0,l.jsx)(o.Z,{errors:H.titleOrUsChapterContainer})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"titleOrUsChapterText",children:"Title or us chapter text selector"}),(0,l.jsx)(f.Z.Control,{...K("titleOrUsChapterText"),defaultValue:A.titleOrUsChapterText,isInvalid:!!H.titleOrUsChapterText}),(0,l.jsx)(o.Z,{errors:H.titleOrUsChapterText})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"chapterOrUsPartContainer",children:"Chapter or us part container selector"}),(0,l.jsx)(f.Z.Control,{...K("chapterOrUsPartContainer"),defaultValue:A.chapterOrUsPartContainer,isInvalid:!!H.chapterOrUsPartContainer}),(0,l.jsx)(o.Z,{errors:H.chapterOrUsPartContainer})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"chapterOrUsPartText",children:"Chapter or us part text selector"}),(0,l.jsx)(f.Z.Control,{...K("chapterOrUsPartText"),defaultValue:A.chapterOrUsPartText,isInvalid:!!H.chapterOrUsPartText}),(0,l.jsx)(o.Z,{errors:H.chapterOrUsPartText})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"sectionContainer",children:"Section container selector"}),(0,l.jsx)(f.Z.Control,{...K("sectionContainer"),defaultValue:A.sectionContainer,isInvalid:!!H.sectionContainer}),(0,l.jsx)(o.Z,{errors:H.sectionContainer})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"sectionText",children:"Section text selector"}),(0,l.jsx)(f.Z.Control,{...K("sectionText"),defaultValue:A.sectionText,isInvalid:!!H.sectionText}),(0,l.jsx)(o.Z,{errors:H.sectionText})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"articleContainer",children:"Article container selector"}),(0,l.jsx)(f.Z.Control,{...K("articleContainer"),defaultValue:A.articleContainer,isInvalid:!!H.articleContainer}),(0,l.jsx)(o.Z,{errors:H.articleContainer})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"articleText",children:"Article text selector"}),(0,l.jsx)(f.Z.Control,{...K("articleText"),defaultValue:A.articleText,isInvalid:!!H.articleText}),(0,l.jsx)(o.Z,{errors:H.articleText})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"paragraphContainer",children:"Paragraph container selector"}),(0,l.jsx)(f.Z.Control,{...K("paragraphContainer"),defaultValue:A.paragraphContainer,isInvalid:!!H.paragraphContainer}),(0,l.jsx)(o.Z,{errors:H.paragraphContainer})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"paragraphText",children:"Paragraph text selector"}),(0,l.jsx)(f.Z.Control,{...K("paragraphText"),defaultValue:A.paragraphText,isInvalid:!!H.paragraphText}),(0,l.jsx)(o.Z,{errors:H.paragraphText})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"effectiveDateContainer",children:"Effective date container selector"}),(0,l.jsx)(f.Z.Control,{...K("effectiveDateContainer"),defaultValue:A.effectiveDateContainer,isInvalid:!!H.effectiveDateContainer}),(0,l.jsx)(o.Z,{errors:H.effectiveDateContainer})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"effectiveDateText",children:"Effective date text selector"}),(0,l.jsx)(f.Z.Control,{...K("effectiveDateText"),defaultValue:A.effectiveDateText,isInvalid:!!H.effectiveDateText}),(0,l.jsx)(o.Z,{errors:H.effectiveDateText})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"effectiveDateFormat",children:"Effective date format selector"}),(0,l.jsx)(f.Z.Control,{...K("effectiveDateFormat"),defaultValue:A.effectiveDateFormat,isInvalid:!!H.effectiveDateFormat}),(0,l.jsx)(o.Z,{errors:H.effectiveDateFormat})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"note",children:"Note selector"}),(0,l.jsx)(f.Z.Control,{...K("note"),defaultValue:A.note,isInvalid:!!H.note}),(0,l.jsx)(o.Z,{errors:H.note})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"linkBaseUrl",children:"Link base url"}),(0,l.jsx)(f.Z.Control,{...K("linkBaseUrl"),defaultValue:A.linkBaseUrl,isInvalid:!!H.linkBaseUrl}),(0,l.jsx)(o.Z,{errors:H.linkBaseUrl})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"defaultLinkPage",children:"Default link page"}),(0,l.jsx)(f.Z.Control,{...K("defaultLinkPage"),defaultValue:A.defaultLinkPage,isInvalid:!!H.defaultLinkPage}),(0,l.jsx)(o.Z,{errors:H.defaultLinkPage})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"footNote",children:"Foot note"}),(0,l.jsx)(f.Z.Control,{...K("footNote"),defaultValue:A.footNote,isInvalid:!!H.footNote}),(0,l.jsx)(o.Z,{errors:H.footNote})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"extraNote",children:"Extra note"}),(0,l.jsx)(f.Z.Control,{...K("extraNote"),defaultValue:A.extraNote,isInvalid:!!H.extraNote}),(0,l.jsx)(o.Z,{errors:H.extraNote})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"extra2",children:"Extra 2"}),(0,l.jsx)(f.Z.Control,{...K("extra2"),defaultValue:A.extra2,isInvalid:!!H.extra2}),(0,l.jsx)(o.Z,{errors:H.extra2})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"extra3",children:"Extra 3"}),(0,l.jsx)(f.Z.Control,{...K("extra3"),defaultValue:A.extra3,isInvalid:!!H.extra3}),(0,l.jsx)(o.Z,{errors:H.extra3})]})})]}),(0,l.jsx)(m.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"customCssPath",children:"Custom css path"}),(0,l.jsx)(f.Z.Control,{...K("customCssPath")}),(0,l.jsx)(o.Z,{errors:H.customCssPath})]})}),(0,l.jsx)(m.Z,{children:(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"methodType",children:"Method"}),(0,l.jsx)(a.SelectListString,{control:R,name:"methodType",className:i()["select-container"],classNamePrefix:"react-select",options:Object.values(c.Tr),defaultValue:A.methodType,splitOptions:!0}),(0,l.jsx)(o.Z,{errors:H.methodType})]})})}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"runType",children:"Run type"}),(0,l.jsx)(a.SelectListString,{control:R,name:"runType",className:i()["select-container"],classNamePrefix:"react-select",options:Object.values(c.mA),defaultValue:A.runType,splitOptions:!0}),(0,l.jsx)(o.Z,{errors:H.runType})]})}),et===c.mA.LocalFile&&(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"localPath",children:"Local file path"}),(0,l.jsx)(f.Z.Control,{...K("localPath"),defaultValue:null!==(P=A.localPath)&&void 0!==P?P:"",isInvalid:!!H.localPath}),(0,l.jsx)(o.Z,{errors:H.localPath})]})})]}),et===c.mA.Scraping&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{className:"mt-3",children:"Http setting"}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"httpSetting.encoding",children:"Encoding"}),(0,l.jsx)(f.Z.Control,{...K("httpSetting.encoding"),defaultValue:null!==(q=null===(t=A.httpSetting)||void 0===t?void 0:t.encoding)&&void 0!==q?q:"",isInvalid:!!(null===(r=H.httpSetting)||void 0===r?void 0:r.encoding)}),(0,l.jsx)(o.Z,{errors:null===(n=H.httpSetting)||void 0===n?void 0:n.encoding})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(f.Z.Label,{htmlFor:"httpSetting.contentType",children:"Content type"}),(0,l.jsx)(f.Z.Control,{...K("httpSetting.contentType"),defaultValue:null!==(D=null===(C=A.httpSetting)||void 0===C?void 0:C.contentType)&&void 0!==D?D:"",isInvalid:!!(null===(y=H.httpSetting)||void 0===y?void 0:y.contentType)}),(0,l.jsx)(o.Z,{errors:null===(T=H.httpSetting)||void 0===T?void 0:T.contentType})]})})]}),(0,l.jsxs)(m.Z,{children:[(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(a.CheckboxControl,{control:R,name:"httpSetting.setActualUserAgent",label:"Set actual user agent",defaultValue:null===(k=A.httpSetting)||void 0===k?void 0:k.setActualUserAgent}),(0,l.jsx)(o.Z,{errors:null===(S=H.httpSetting)||void 0===S?void 0:S.setActualUserAgent})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(a.CheckboxControl,{control:R,name:"httpSetting.useChromeAgent",label:"Use chrome agent",defaultValue:null===(N=A.httpSetting)||void 0===N?void 0:N.useChromeAgent}),(0,l.jsx)(o.Z,{errors:null===(O=H.httpSetting)||void 0===O?void 0:O.useChromeAgent})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(a.CheckboxControl,{control:R,name:"httpSetting.useTls10",label:"Use Tls10",defaultValue:null===(w=A.httpSetting)||void 0===w?void 0:w.useTls10}),(0,l.jsx)(o.Z,{errors:null===(_=H.httpSetting)||void 0===_?void 0:_.useTls10})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(a.CheckboxControl,{control:R,name:"httpSetting.useTls11",label:"Use Tls11",defaultValue:null===(F=A.httpSetting)||void 0===F?void 0:F.useTls11}),(0,l.jsx)(o.Z,{errors:null===(L=H.httpSetting)||void 0===L?void 0:L.useTls11})]})}),(0,l.jsx)(Z.Z,{children:(0,l.jsxs)(f.Z.Group,{children:[(0,l.jsx)(a.CheckboxControl,{control:R,name:"httpSetting.useSSL",label:"Use ssl",defaultValue:null===(I=A.httpSetting)||void 0===I?void 0:I.useSSL}),(0,l.jsx)(o.Z,{errors:null===(U=H.httpSetting)||void 0===U?void 0:U.useSSL})]})})]})]}),(0,l.jsx)("div",{className:"d-flex justify-content-end mt-3",children:(0,l.jsx)(v.Z,{type:"submit",disabled:!Q,children:"Save"})})]})})},y=r(67663),T=e=>{let{initialValue:t,rulebooks:r,feedSettings:n,copyId:i="NAN",updateId:a,getRulebooksAction:o=s.rF,getFeedSettingsAction:c=s.rU}=e,[d,u]=(0,p.useState)(i),h=(0,p.useCallback)(async()=>await o(),[o]),x=(0,p.useCallback)(async()=>await c(),[c]),{data:j}=(0,y.a)({queryKey:["rulebooks"],initialData:r,queryFn:h}),{data:g}=(0,y.a)({queryKey:["feedSettings"],queryFn:x,initialData:n});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m.Z,{className:"mb-3",children:[(0,l.jsxs)(Z.Z,{md:4,children:[(0,l.jsx)(f.Z.Label,{children:"Copy settings"}),(0,l.jsxs)(f.Z.Select,{onChange:e=>u(e.target.value),value:null!=d?d:"",children:[(0,l.jsx)("option",{value:"NAN",children:"Select item"}),null==g?void 0:g.map(e=>(0,l.jsx)("option",{value:e.id,children:e.ruleBook.name},e.id))]})]}),(0,l.jsx)(Z.Z,{md:2,style:{display:"flex",alignItems:"end"},children:"NAN"!==d&&(0,l.jsx)(v.Z,{as:"a",href:"/apps/feed-settings/form/".concat(a,"?copy=").concat(d),children:"Copy"})})]}),(0,l.jsx)(C,{defaultValues:t,rulebooks:j,updateId:a})]})}},88254:function(e,t,r){"use strict";var l=r(57437),s=r(2265),n=r(23377);t.Z=e=>{let{errors:t}=e,r=(0,s.useMemo)(()=>t,[t]),i=(0,s.useMemo)(()=>Array.isArray(r),[r]);return(0,l.jsxs)(l.Fragment,{children:[i&&r&&r.map(e=>(0,l.jsx)(n.Z.Control.Feedback,{type:"invalid",children:e.message},e.message)),!i&&(0,l.jsx)(n.Z.Control.Feedback,{type:"invalid",children:null==r?void 0:r.message})]})}},69452:function(e,t,r){"use strict";r.r(t);var l=r(57437),s=r(2265),n=r(54440),i=r.n(n),a=r(37540),o=r(46716),c=r(8427),d=r(38597),u=r(94434),h=r(23377),x=r(61396),p=r.n(x);let j=e=>{let{addButtonRoute:t,menus:r,children:s}=e;return(0,l.jsx)("nav",{className:"invoiceapp-sidebar",children:(0,l.jsx)(a.Z,{className:"nicescroll-bar",children:(0,l.jsxs)("div",{className:"menu-content-wrap",children:[!!t&&(0,l.jsx)(o.Z,{href:t,as:p(),variant:"primary",className:"btn-rounded btn-block mb-4",id:"addButton",children:"Create"}),(0,l.jsx)("div",{className:"menu-group",children:(0,l.jsx)(c.Z,{as:"ul",className:"nav-light navbar-nav flex-column",children:void 0!==r&&r.length>0&&r.map(e=>(0,l.jsx)(c.Z.Item,{as:"li",children:(0,l.jsxs)(c.Z.Link,{href:e.to,children:[(0,l.jsx)("span",{className:"nav-icon-wrap",children:(0,l.jsx)("span",{className:"feather-icon",children:e.icon})}),(0,l.jsx)("span",{className:"nav-link-text",children:e.title})]})},e.title))})}),s]})})})};t.default=e=>{let{title:t,menus:r,addButtonRoute:n,onSearch:o,children:c,actions:x,nextPage:m,prevPage:Z,navContent:f}=e,[v,g]=(0,s.useState)(!1),b=(0,s.useCallback)(()=>{g(!v)},[v]),C=(0,s.useMemo)(()=>!!(n||(null==r?void 0:r.length)||f),[n,null==r?void 0:r.length]),y=(0,s.useCallback)(e=>o?o(e.target.value):void 0,[o]);return(0,l.jsx)("div",{className:"hk-pg-body py-0",children:(0,l.jsxs)("div",{className:i()("invoiceapp-wrap",C?{"invoiceapp-sidebar-toggle":!v}:"invoiceapp-sidebar-toggle"),children:[C&&(0,l.jsx)(j,{menus:r,addButtonRoute:n,children:f}),(0,l.jsx)("div",{className:"invoiceapp-content",children:(0,l.jsxs)("div",{className:"invoiceapp-detail-wrap",children:[(0,l.jsxs)("header",{className:"invoice-header",children:[(0,l.jsx)("div",{className:"d-flex align-items-center",children:(0,l.jsx)("div",{className:"invoiceapp-title link-dark",children:(0,l.jsx)("h1",{className:"invoiceapp-title link-dark",children:t})})}),C&&(0,l.jsx)("div",{className:i()("hk-sidebar-togglable",{active:!v}),onClick:b})]}),(0,l.jsx)("div",{className:"invoice-body",children:(0,l.jsx)(a.Z,{className:"nicescroll-bar",children:(0,l.jsxs)("div",{className:"invoice-list-view",children:[(x||m||Z)&&(0,l.jsxs)(d.Z,{className:"mb-3",children:[(0,l.jsx)(u.Z,{xs:7,mb:3,children:(0,l.jsx)("div",{className:"invoice-toolbar-left",children:(null==x?void 0:x.length)&&(0,l.jsx)(h.Z.Select,{size:"sm",className:"d-flex align-items-center w-130p",children:x.map(e=>(0,l.jsx)("option",{onClick:()=>e.action(),children:e.title},e.title))})})}),(0,l.jsx)(u.Z,{xs:5,mb:3,children:(0,l.jsxs)("div",{className:"invoice-toolbar-right",children:[!!o&&(0,l.jsx)("div",{className:"dataTables_filter",children:(0,l.jsx)("label",{children:(0,l.jsx)(h.Z.Control,{size:"sm",type:"search",placeholder:"Search",onChange:y})})}),(0,l.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"datable_1_paginate",children:(m||Z)&&(0,l.jsxs)("ul",{className:"pagination custom-pagination pagination-simple m-0",children:[Z&&(0,l.jsx)("li",{className:"paginate_button page-item previous disabled",id:"datable_1_previous",children:(0,l.jsx)(p(),{href:Z,className:"page-link",children:(0,l.jsx)("i",{className:"ri-arrow-left-s-line"})})}),m&&(0,l.jsx)("li",{className:"paginate_button page-item next disabled",id:"datable_1_next",children:(0,l.jsx)(p(),{href:m,className:"page-link",children:(0,l.jsx)("i",{className:"ri-arrow-right-s-line"})})})]})})]})})]}),(0,l.jsx)("div",{className:"mt-4",children:c})]})})})]})})]})})}},31130:function(e,t,r){"use strict";r.d(t,{F_:function(){return h},C0:function(){return d}});var l=r(49230),s=r(12593),n=r(69174),i=r(35691);let a=i.Z_().email(e=>"'".concat(e.value,"' is not a valid mail address")),o=i.Z_().matches(l.fe,{message:e=>"'".concat(e.value,"' is not a valid ip address")}),c=i.Ry().shape({mailingList:i.IX().of(a).min(1,"Mail list should contains at least one item").required("Mail list is a required field"),ipAddressList:i.IX().of(o).min(1,"Ip address lis should contains at least one item").required("Ip address lis is a required field"),frequency:i.Z_().oneOf(Object.values(s.d0)).required("Frequency is a required field"),customFrequency:i.Z_().when("frequency",{is:s.d0.Custom,then:()=>i.Rx().typeError("Invalid number").integer().min(1).required(),otherwise:()=>i.Z_().optional()}),deliveryMethod:i.Z_().oneOf(Object.values(s.FI)).required("Method is a required field"),environment:i.Z_().oneOf(Object.values(s.mf)).required("Environment is a required field"),fileType:i.Z_().oneOf(Object.values(s.Wz)).required("File type is a required field"),startDate:i.hT().typeError("Invalid date").required(),endDate:i.hT().required().min(i.iH("startDate"),"End date must be later than start date"),requestLimit:i.Rx().typeError("Invalid number").integer().max(1e4),testingDaysLimit:i.Rx().typeError("Invalid number").integer().max(1e4),maxSearchDepth:i.Rx().typeError("Invalid number").integer(),url:i.Z_().when("deliveryMethod",{is:s.FI.Http,then:e=>e.url().required(),otherwise:e=>e.optional()}),recipients:i.IX().when("deliveryMethod",{is:s.FI.Email,then:e=>e.of(a).min(1,"Mail list should contains at least one item").required("Mail list is a required field"),otherwise:e=>e.optional()}),ccs:i.IX().of(a).optional(),cci:i.IX().of(a).optional(),subject:i.Z_().optional(),template:i.Z_().optional(),userName:i.Z_().when("deliveryMethod",{is:s.FI.Sftp,then:e=>e.required("This field is required!"),otherwise:e=>e.optional()}),password:i.Z_().when("deliveryMethod",{is:s.FI.Sftp,then:e=>e.required("This field is required!"),otherwise:e=>e.optional()}),folder:i.Z_().when("deliveryMethod",{is:s.FI.Sftp,then:e=>e.required("This field is required!"),otherwise:e=>e.optional()}),host:i.Z_().when("deliveryMethod",{is:s.FI.Sftp,then:e=>e.matches(l.sC,{message:"Invalid host!"}).required("This field is required!"),otherwise:e=>e.optional()}),withTls:i.O7().optional(),isFtp:i.O7().optional(),port:i.Rx().typeError("Invalid number").integer().optional()}),d=(0,n.X)(c),u=i.Ry().shape({ruleBookId:i.Z_().required(),mainContainer:i.Z_(),partOrUsTitleContainer:i.Z_(),partOrUsTitleText:i.Z_(),titleOrUsChapterContainer:i.Z_(),titleOrUsChapterText:i.Z_(),chapterOrUsPartContainer:i.Z_(),chapterOrUsPartText:i.Z_(),sectionContainer:i.Z_(),sectionText:i.Z_(),articleContainer:i.Z_(),articleText:i.Z_(),paragraphContainer:i.Z_(),paragraphText:i.Z_(),effectiveDateContainer:i.Z_(),effectiveDateText:i.Z_(),effectiveDateFormat:i.Z_(),note:i.Z_(),linkBaseUrl:i.Z_(),defaultLinkPage:i.Z_(),footNote:i.Z_(),extraNote:i.Z_(),extra2:i.Z_(),extra3:i.Z_(),customCssPath:i.Z_(),runType:i.Z_().oneOf(Object.values(s.mA)).required("Run type is required"),localPath:i.Z_().when("runType",{is:s.mA.LocalFile,then:()=>i.Z_().required(),otherwise:()=>i.Z_()}),httpSetting:i.Ry().shape({encoding:i.Z_(),connection:i.Z_(),accessToken:i.Z_(),contentType:i.Z_(),setActualUserAgent:i.O7(),useChromeAgent:i.O7(),spoofHost:i.O7(),useTls10:i.O7(),useTls11:i.O7(),useSSL:i.O7(),useTls13:i.O7()}),methodType:i.Z_().oneOf(Object.values(s.Tr))}),h=(0,n.X)(u)},89173:function(e){e.exports={about:"style_about__n_HwQ",line:"style_line__je1i5",title:"style_title__EraPf"}},54846:function(e){e.exports={modal:"style_modal__9ZLFw","scraping-result-modal":"style_scraping-result-modal__uJYKe",status:"style_status__W8VoQ",success:"style_success__P4ige",error:"style_error__FmUJY"}},10002:function(e,t,r){"use strict";var l=r(2265),s=r(74275),n=r.n(s);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e}).apply(this,arguments)}var a=(0,l.forwardRef)(function(e,t){var r=e.color,s=e.size,n=void 0===s?24:s,a=function(e,t){if(null==e)return{};var r,l,s=function(e,t){if(null==e)return{};var r,l,s={},n=Object.keys(e);for(l=0;l<n.length;l++)r=n[l],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(l=0;l<n.length;l++)r=n[l],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,["color","size"]);return l.createElement("svg",i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),l.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),l.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});a.propTypes={color:n().string,size:n().oneOfType([n().string,n().number])},a.displayName="Edit",t.Z=a}}]);