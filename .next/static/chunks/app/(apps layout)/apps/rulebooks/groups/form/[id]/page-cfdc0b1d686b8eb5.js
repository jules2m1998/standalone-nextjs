(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7568],{81577:function(e,a,n){Promise.resolve().then(n.bind(n,63014)),Promise.resolve().then(n.bind(n,49831)),Promise.resolve().then(n.bind(n,69452)),Promise.resolve().then(n.bind(n,88173))},14506:function(e,a,n){"use strict";n.d(a,{dk:function(){return J},wG:function(){return F},H4:function(){return b},IS:function(){return w},iB:function(){return y},zZ:function(){return l},XW:function(){return A},r4:function(){return O},v7:function(){return I},gc:function(){return f},PD:function(){return $},aB:function(){return _},PW:function(){return p},z3:function(){return t},h8:function(){return D},Sv:function(){return N},bw:function(){return z},HI:function(){return K},rU:function(){return u},rF:function(){return h},nJ:function(){return i},AW:function(){return P},ox:function(){return R},m$:function(){return M},dy:function(){return E},HX:function(){return r},gf:function(){return Z},mZ:function(){return C},Ns:function(){return v},pV:function(){return d},DY:function(){return k},CN:function(){return U},Jm:function(){return V},xc:function(){return q},$P:function(){return B},zB:function(){return o},D4:function(){return L},Vp:function(){return m},a9:function(){return G},$x:function(){return S},DL:function(){return x},VM:function(){return s},Mg:function(){return j},le:function(){return H},Nq:function(){return T},Mr:function(){return g}}),n(15355);var c=n(31162),t=(0,c.$)("d03707f81b2261b93ebec98f4bbf2340eae0d6b7"),r=(0,c.$)("08b37ae72a96937629c264cf8bdda52d60656704"),i=(0,c.$)("2ff42755ccdd4013af63031e1d66c4578e13eb02"),d=(0,c.$)("fc39879cccf2548bb4efe963fe202299a8e31397");(0,c.$)("d3eeb35a321093ee2a47e461ec85aff689be3880");var l=(0,c.$)("a9b1ac99fcea3df525c22343661eabd1d3de3c03"),s=(0,c.$)("6fe75c84d2770cd0bf8e93be89b761857daacaa0"),o=(0,c.$)("e936a6a2d483f7b48d8fbe15b9f03a3b63c1904d"),u=(0,c.$)("4f680c1cbf32e692be5ad00043b814ed5c5aa14e"),f=(0,c.$)("6376a7e149ee8d241fefa94a187f57f868b0fb40"),b=(0,c.$)("d3f2e44d7b0006ce021f47f9dc06aca19399fbe0"),m=(0,c.$)("54142fef42c30a77b71095d886688462a4c6f7a4"),p=(0,c.$)("0a8a3bf89b117ca8c2258af3c9da16c67f2f3a81"),h=(0,c.$)("76c3a9adfb89b5f7cf866f046e9fdc9be5d179ea"),v=(0,c.$)("0b168ce108ad77c02b91171f57e00b54fa605d7a"),x=(0,c.$)("168cbfec5688e87a6ee12d49e9d80e8431838143"),j=(0,c.$)("ab7febcc0fc2da7da420df7258f4c8bec929e85d"),g=(0,c.$)("a8c2cce7140bb81c337826d9599465618f75ecf7"),$=(0,c.$)("cd29cae802e6581ff9b04681284834f4633558cc"),N=(0,c.$)("758dbeda3d5045ba9a08640ad5c22efcced0bd62"),y=(0,c.$)("1d599e287d086a94bbe39119d68e0ba8388b7ea4"),k=(0,c.$)("4c276d72eaa7d2122108908dc4103cffa95f2351"),Z=(0,c.$)("03e0796dec4493c1030b94a01b30836c29685a2f"),w=(0,c.$)("701ca0f2d172f07ba6cf6b947cbd8b4787253af0"),C=(0,c.$)("f0de559ef90763fd17b2501a29d00aae2490688c"),_=(0,c.$)("3efa138cd9c142bd60e1b481c46106c0e410cfd2"),S=(0,c.$)("87c53e25ebdc9d42fc443be9398c97cb89bacd26"),R=(0,c.$)("643b3119d2654805b61b149ec735a2a08a317213"),E=(0,c.$)("41e07b5e2d9906c20cbc89b4c38c1e0416bbb27b"),I=(0,c.$)("4720e2135031d9fc5d7f7c5886809526af5cd2d2");(0,c.$)("c0b2f3dd8eef8c1725fa1af48901426b523a18ef"),(0,c.$)("b215ad2026443be0cdc3530bae3e4f8775d6217d");var z=(0,c.$)("f9f909f7786b6b5e47e3a58ad91b90c4f41aba07"),M=(0,c.$)("b91adffc6d848c9827560034594cf147f8405747"),q=(0,c.$)("82b90fbf4d88c7d9be611851b80b5625abd1e58d"),F=(0,c.$)("a16c937d905ec5a0d2df149c18472b2023bca642"),G=(0,c.$)("6a576f305e83e21165afed526865540fb660b8ed"),P=(0,c.$)("44246ec006af30dcc0047b8505c8132e1a75df18"),T=(0,c.$)("2aa21b942b313047157d863e7fbdb34a029391b0"),B=(0,c.$)("c7bd7e586832b598a7f7e4bc18768ec6a4613edb"),D=(0,c.$)("534b33e06b3bbeffa8aea0a8400d1a31bef91b04");(0,c.$)("428a01cc4cd264955bec270a118d52dbaa19cb7e");var O=(0,c.$)("d6991360f8110cf149fd5f1b407dbac719590343"),U=(0,c.$)("29c169f5fd424e66794ecde48d191f8aa2335c6e"),V=(0,c.$)("158d73f9237480c914fccb725056ea7384a800b4"),J=(0,c.$)("6e7106be0360b3f1c8b415a41ef7e9e17968a541"),L=(0,c.$)("741ece9479fe5941a30b609de86a99012f8239b9"),A=(0,c.$)("b110cf1f2dda2b292523128854c421408e4ee46e"),H=(0,c.$)("9568a352c322061298a037063119ea6816ddc52b"),K=(0,c.$)("38cd5d9552f37d23c2e33fca88fb18ca9e7488df")},49831:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return g}});var c=n(57437),t=n(2265),r=n(63790),i=n(68132),d=n(16862),l=n(14506),s=n(35691),o=n(23377),u=n(38597),f=n(94434);let b=t.memo(e=>{let{name:a,label:n,type:i,error:d,placeholder:l,disabled:s,touched:u}=e,f=(0,t.useMemo)(()=>"select"===i.type?[{value:"",label:"------- Select item -------"},...i.options]:[],[i]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.Z.Label,{"data-testid":"".concat(a,"-label"),children:n}),"text"===i.type&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z.Control,{as:r.gN,name:a,isInvalid:!!d&&u,placeholder:l,disabled:s,"data-testid":"".concat(a,"-field")})}),"textarea"===i.type&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(o.Z.Control,{as:r.gN,component:"textarea",rows:4,name:a,isInvalid:!!d&&u,placeholder:l,disabled:s,"data-testid":"".concat(a,"-field")})}),"select"===i.type&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(r.gN,{as:o.Z.Select,name:a,isInvalid:!!d&&u,placeholder:l,disabled:s,"data-testid":"".concat(a,"-field"),children:f.map(e=>(0,c.jsx)("option",{value:e.value,children:e.label},e.value))})}),u,!!d&&u&&(0,c.jsx)(o.Z.Text,{id:a,style:{color:"red"},className:"error-message",children:d})]})});var m=e=>{let{fields:a,errors:n={},disabled:t=!1,touched:r={}}=e;return(0,c.jsx)("div",{children:(0,c.jsx)(u.Z,{children:a.map(e=>(0,c.jsx)(f.Z,{md:e.size?e.size:"textarea"===e.type.type?12:6,className:"mb-3",children:(0,c.jsx)(b,{name:e.name,label:e.label,type:e.type,error:n[e.name],placeholder:e.placeholder,disabled:t,touched:r&&!!r[e.name]})},e.name))})})},p=n(46716),h=n(38038),v=n(67663);let x={name:"",parentGroupId:""},j=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(let c of e){var n;let e={...c};delete e.children,a.push(e),c.children&&(null===(n=c.children)||void 0===n?void 0:n.length)>0&&j(c.children,a)}return a};var g=e=>{let{initialValue:a=x,rulebookGroups:n,notifier:o=d.U0,currentGroup:u,createAction:f=l.zZ,updateAction:b=l.VM}=e,g=(0,h.NL)(),$=(0,t.useCallback)(async e=>{await o.toastCreationAsync(async()=>{if(400===(await f(e)).status)throw Error("ERROR");return await g.invalidateQueries({queryKey:["rulebookGroups"]}),"SUCCESS"})},[f,o,g]),N=(0,t.useCallback)(async e=>{await o.toastUpdateAsync(async()=>{if(400===(await b(u.id,e)).status)throw Error("ERROR");return await g.invalidateQueries({queryKey:["rulebookGroups"]}),"SUCCESS"})},[u,o,g,b]),y=(0,t.useCallback)(async(e,a)=>{u?await N(e):(await $(e),a.resetForm())},[$,u,N]),k=s.Ry().shape({name:s.Z_().required(),groupType:s.Z_().required(),parentGroupId:s.Z_().uuid()}),Z=(0,t.useCallback)(async()=>await (0,l.nJ)(),[]),{data:w,isLoading:C,isFetching:_}=(0,v.a)({queryKey:["rulebookGroups"],initialData:n,queryFn:Z}),S=(0,t.useMemo)(()=>j(null!=w?w:[]),[w]),R=(0,t.useMemo)(()=>{var e;return[{type:{type:"text"},label:"Rulebook group name",name:"name",placeholder:"Name"},{type:{type:"select",options:Object.values(i.Y).map(e=>({value:e,label:e}))},label:"Rulebook group type",name:"groupType",placeholder:"Select type"},{type:{type:"select",options:null!==(e=null==S?void 0:S.map(e=>({value:e.id,label:e.name})))&&void 0!==e?e:[]},label:"Rulebook group parent",name:"parentGroupId",placeholder:"Select parent"}]},[S]);return(0,c.jsx)(r.J9,{initialValues:null!=u?u:a,onSubmit:y,validationSchema:k,children:e=>{let{errors:a,touched:n,isValid:t,isSubmitting:i}=e;return(0,c.jsxs)(r.l0,{className:"mt-6",children:[(0,c.jsx)(m,{fields:R,disabled:i||C||_,errors:a,touched:n}),(0,c.jsx)(p.Z,{disabled:i||!t,type:"submit",children:"Submit"}),!t&&(0,c.jsx)("p",{style:{color:"red"},id:"error-message",children:"Some fields are invalid !"})]})}})}},69452:function(e,a,n){"use strict";n.r(a);var c=n(57437),t=n(2265),r=n(54440),i=n.n(r),d=n(37540),l=n(46716),s=n(8427),o=n(38597),u=n(94434),f=n(23377),b=n(61396),m=n.n(b);let p=e=>{let{addButtonRoute:a,menus:n,children:t}=e;return(0,c.jsx)("nav",{className:"invoiceapp-sidebar",children:(0,c.jsx)(d.Z,{className:"nicescroll-bar",children:(0,c.jsxs)("div",{className:"menu-content-wrap",children:[!!a&&(0,c.jsx)(l.Z,{href:a,as:m(),variant:"primary",className:"btn-rounded btn-block mb-4",id:"addButton",children:"Create"}),(0,c.jsx)("div",{className:"menu-group",children:(0,c.jsx)(s.Z,{as:"ul",className:"nav-light navbar-nav flex-column",children:void 0!==n&&n.length>0&&n.map(e=>(0,c.jsx)(s.Z.Item,{as:"li",children:(0,c.jsxs)(s.Z.Link,{href:e.to,children:[(0,c.jsx)("span",{className:"nav-icon-wrap",children:(0,c.jsx)("span",{className:"feather-icon",children:e.icon})}),(0,c.jsx)("span",{className:"nav-link-text",children:e.title})]})},e.title))})}),t]})})})};a.default=e=>{let{title:a,menus:n,addButtonRoute:r,onSearch:l,children:s,actions:b,nextPage:h,prevPage:v,navContent:x}=e,[j,g]=(0,t.useState)(!1),$=(0,t.useCallback)(()=>{g(!j)},[j]),N=(0,t.useMemo)(()=>!!(r||(null==n?void 0:n.length)||x),[r,null==n?void 0:n.length]),y=(0,t.useCallback)(e=>l?l(e.target.value):void 0,[l]);return(0,c.jsx)("div",{className:"hk-pg-body py-0",children:(0,c.jsxs)("div",{className:i()("invoiceapp-wrap",N?{"invoiceapp-sidebar-toggle":!j}:"invoiceapp-sidebar-toggle"),children:[N&&(0,c.jsx)(p,{menus:n,addButtonRoute:r,children:x}),(0,c.jsx)("div",{className:"invoiceapp-content",children:(0,c.jsxs)("div",{className:"invoiceapp-detail-wrap",children:[(0,c.jsxs)("header",{className:"invoice-header",children:[(0,c.jsx)("div",{className:"d-flex align-items-center",children:(0,c.jsx)("div",{className:"invoiceapp-title link-dark",children:(0,c.jsx)("h1",{className:"invoiceapp-title link-dark",children:a})})}),N&&(0,c.jsx)("div",{className:i()("hk-sidebar-togglable",{active:!j}),onClick:$})]}),(0,c.jsx)("div",{className:"invoice-body",children:(0,c.jsx)(d.Z,{className:"nicescroll-bar",children:(0,c.jsxs)("div",{className:"invoice-list-view",children:[(b||h||v)&&(0,c.jsxs)(o.Z,{className:"mb-3",children:[(0,c.jsx)(u.Z,{xs:7,mb:3,children:(0,c.jsx)("div",{className:"invoice-toolbar-left",children:(null==b?void 0:b.length)&&(0,c.jsx)(f.Z.Select,{size:"sm",className:"d-flex align-items-center w-130p",children:b.map(e=>(0,c.jsx)("option",{onClick:()=>e.action(),children:e.title},e.title))})})}),(0,c.jsx)(u.Z,{xs:5,mb:3,children:(0,c.jsxs)("div",{className:"invoice-toolbar-right",children:[!!l&&(0,c.jsx)("div",{className:"dataTables_filter",children:(0,c.jsx)("label",{children:(0,c.jsx)(f.Z.Control,{size:"sm",type:"search",placeholder:"Search",onChange:y})})}),(0,c.jsx)("div",{className:"dataTables_paginate paging_simple_numbers",id:"datable_1_paginate",children:(h||v)&&(0,c.jsxs)("ul",{className:"pagination custom-pagination pagination-simple m-0",children:[v&&(0,c.jsx)("li",{className:"paginate_button page-item previous disabled",id:"datable_1_previous",children:(0,c.jsx)(m(),{href:v,className:"page-link",children:(0,c.jsx)("i",{className:"ri-arrow-left-s-line"})})}),h&&(0,c.jsx)("li",{className:"paginate_button page-item next disabled",id:"datable_1_next",children:(0,c.jsx)(m(),{href:h,className:"page-link",children:(0,c.jsx)("i",{className:"ri-arrow-right-s-line"})})})]})})]})})]}),(0,c.jsx)("div",{className:"mt-4",children:s})]})})})]})})]})})}},68132:function(e,a,n){"use strict";var c,t;n.d(a,{Y:function(){return c}}),(t=c||(c={})).Topic="Topic",t.Regulator="Regulator"}},function(e){e.O(0,[8218,9461,2135,4562,9460,6349,461,1103,2639,4037,5691,3790,6862,2971,4938,1744],function(){return e(e.s=81577)}),_N_E=e.O()}]);