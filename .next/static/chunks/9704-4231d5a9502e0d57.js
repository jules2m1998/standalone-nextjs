(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9704],{2579:function(e,l,s){"use strict";var a=s(57437),n=s(54440),i=s.n(n),t=s(23761);l.Z=e=>{let{children:l,as:s,bg:n,pill:r,outline:d,indicator:c,text:o,bsPrefix:u,className:m,size:h,soft:x,...p}=e;return(0,a.jsx)(t.Z,{as:s,bg:x?"bg-".concat(n,"-light-5"):n,pill:r,text:o,bsPrefix:u,...p,className:i()(m,{"badge-sm":"sm"===h},{"badge-outline":d},x?"badge-soft-".concat(n):"",{"badge-indicator":c}),children:l})}},2581:function(e,l,s){"use strict";var a=s(57437),n=s(2265),i=s(70507),t=s(46716),r=s(16626),d=s(54440),c=s.n(d),o=s(40753),u=s(59487);l.Z=e=>{let{children:l,title:s,collapseIcon:d,targetId:m,bsPrefix:h,as:x,headerClass:p,bodyClass:j,wrapperClass:v,btnClasses:b,collapsed:f,...g}=e,[N,y]=(0,n.useState)(!f);return(0,a.jsxs)(i.Z,{className:v,children:[(0,a.jsxs)(i.Z.Header,{className:p,children:[(0,a.jsx)(t.Z,{bsPrefix:h,as:x,"aria-controls":m,"aria-expanded":N,onClick:()=>y(!N),className:c()({collapsed:!N},b),...g,children:s}),d&&(0,a.jsx)("div",{className:"card-action-wrap",children:(0,a.jsx)(t.Z,{variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover",onClick:()=>y(!N),children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:N?(0,a.jsx)(o.Z,{}):(0,a.jsx)(u.Z,{})})})})})]}),(0,a.jsx)(r.Z,{in:N,children:(0,a.jsx)("div",{id:m,children:(0,a.jsx)(i.Z.Body,{className:j,children:l})})})]})}},86320:function(e,l,s){"use strict";s.r(l);var a=s(57437),n=s(44156);l.default=e=>{let{children:l,...s}=e;return(0,a.jsx)(n.Z,{...s,children:l})}},16633:function(e,l,s){"use strict";s.r(l),s.d(l,{default:function(){return h}});var a=s(57437),n=s(2265),i=s(16862),t=s(44156),r=s(86320),d=s(56329),c=s.n(d),o=s(61396),u=s.n(o);let m=e=>{var l;let{group:s}=e,d=(0,n.useMemo)(()=>s.value||(0,i.zo)("Empty ",s.name),[]);return(0,a.jsxs)(t.Z.Item,{className:c().line,eventKey:(0,i.zo)(s.value,"---",s.name),children:[(0,a.jsx)(t.Z.Header,{children:(0,i.IQ)(d)}),(0,a.jsx)(t.Z.Body,{children:(0,a.jsxs)(r.default,{defaultActiveKey:"",flush:!0,className:"accordion-soft accordion-soft-content",children:[null===(l=s.children)||void 0===l?void 0:l.map(e=>(0,a.jsx)(m,{group:e},(0,i.zo)(e.name,e.value))),!s.children&&(0,a.jsx)("ul",{className:"d-flex flex-column gap-1",children:s.groups.map(e=>{var l;return(0,a.jsx)("li",{className:"border px-1",children:(0,a.jsxs)(u(),{href:(0,i.zo)("#line-",e.id),style:{fontSize:10,maxWidth:"100%"},className:"text-truncate d-inline-block",children:["#",e.rowNumber," ",(0,i.IQ)(null!==(l=e.section)&&void 0!==l?l:"")]})},e.id)})})]})})]})};var h=e=>{let{details:l}=e,s=(0,n.useMemo)(()=>(0,i.yS)(l,["partOrUsTitle","titleOrChapter","chapterOrUsPart"]),[l]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{children:"Table of content"}),(0,a.jsx)(r.default,{defaultActiveKey:"",flush:!0,className:"accordion-soft accordion-soft-content",children:s.map(e=>(0,a.jsx)(m,{group:e},(0,i.zo)(e.name,e.value)))})]})}},60204:function(e,l,s){"use strict";s.d(l,{uT:function(){return eM},yS:function(){return ej},BP:function(){return ek},GL:function(){return eS},bS:function(){return eH}});var a=s(57437),n=s(54440),i=s.n(n),t=s(23377),r=s(95704),d=s(48616),c=s(2579),o=s(2265),u=s(61396),m=s.n(u),h=e=>{let{rulebook:l,onRemoveRulebook:s}=e,[n,u]=(0,o.useState)(!1);return(0,a.jsx)("li",{className:i()("advance-list-item single-task-list active-todo",{selected:n}),children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsxs)(t.Z.Check,{children:[(0,a.jsx)(t.Z.Check.Input,{type:"checkbox"}),(0,a.jsx)(t.Z.Check.Label,{})]}),(0,a.jsxs)("div",{className:"d-flex flex-column align-items-start",children:[(0,a.jsx)(m(),{className:"todo-text text-dark mw-700p",href:"/apps/rulebooks/".concat(l.id),children:l.name}),(0,a.jsx)("p",{className:"text-muted fs-8",children:l.lawTitle})]})]}),(0,a.jsxs)("div",{className:"d-flex flex-shrink-0 align-items-center ms-3",children:[(0,a.jsx)("a",{href:l.mainUrl,target:"_blank",className:i()("todo-time d-lg-inline-block d-none me-3 btn-link btn","text-primary"),children:l.mainRuleId}),(0,a.jsx)("a",{href:l.feedUrl,target:"_blank",className:i()("todo-time d-lg-inline-block d-none me-3 btn-link btn","text-primary"),children:l.feedId}),(0,a.jsx)(c.Z,{bg:"primary",className:"ms-3 d-md-inline-block d-none",children:l.regulatorCode}),(0,a.jsx)(c.Z,{bg:"primary",className:"ms-3 d-md-inline-block d-none",children:l.countryCode}),(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(r.Z.Toggle,{variant:"flush-light",className:"btn-icon btn-rounded flush-soft-hover no-caret",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(d.Z,{})})})}),(0,a.jsxs)(r.Z.Menu,{align:"end",children:[(0,a.jsx)(r.Z.Item,{className:"edit-task",children:(0,a.jsx)(m(),{href:"/apps/rulebooks/".concat(l.id),children:"View RuleBook"})}),(0,a.jsx)(r.Z.Item,{className:"view-task",children:(0,a.jsx)(m(),{href:"/apps/rulebooks/".concat(l.id,"/details?pageSize=100&pageNumber=1"),children:"View Details"})}),(0,a.jsx)(r.Z.Item,{className:"edit-task",children:(0,a.jsx)(m(),{href:"/apps/rulebooks/form/create?rulebookId=".concat(l.id,"/"),children:"Copy RuleBook"})}),(0,a.jsx)(r.Z.Item,{className:"edit-task",children:(0,a.jsx)(m(),{href:"/apps/rulebooks/".concat(l.id,"/runs"),children:"View Runs"})}),(0,a.jsx)(r.Z.Item,{className:"delete-task",onClick:()=>s(l.id),children:(0,a.jsx)("span",{className:"text-primary",children:"Delete RuleBook"})})]})]})]})]})})},x=s(70507),p=s(2581),j=s(44840),v=s.n(j);let b=e=>{let{group:l,wrapperClass:s,showInfo:n}=e,t=(0,o.useMemo)(()=>l.children,[l.children]);return(0,a.jsx)("div",{className:i()("collapse-simple",s),children:(0,a.jsx)(p.Z,{bodyClass:"p-0",bsPrefix:"a",href:"#",wrapperClass:"card-border",targetId:l.id,title:(0,a.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,a.jsx)("h5",{className:"mb-0",children:null==l?void 0:l.name}),(0,a.jsx)(c.Z,{bg:"dark",className:"ms-3 d-md-inline-block d-none",children:l.rulebooks&&l.rulebooks.length<=0?0:l.rulebooks.length+v()(null!=t?t:[],function(e){return e&&e.rulebooks?e.rulebooks.length:0})})]}),collapsed:!l.rulebooks||!l.rulebooks.length,children:t&&t.length?t.map(e=>(0,a.jsx)(b,{group:e,wrapperClass:"ms-2",showInfo:n},e.id)):(0,a.jsx)(x.Z.Body,{className:"p-0 d-flex flex-column",children:l.rulebooks&&l.rulebooks.length?(0,a.jsx)("ul",{className:"d-grid gap-2",children:l.rulebooks.map(e=>(0,a.jsx)(h,{rulebook:e,onRemoveRulebook:null},e.id))}):(0,a.jsx)("span",{className:"mx-auto",children:"No Rulebook"})})})})};var f=s(16691),g=s.n(f),N=s(46716),y=s(92887),k=s(8427),Z=s(92402),C=s(23761),w=s(37540),I=s(9466),S=s(55861),_=s(69718),R=s(34321),D=s(42331),z=s(66767),B=s(56656),A=s(73865),M=s(24033),E=s(67663),F=s(14506),L=s(38038),U=s(23588),P=s(94434),T=s(47154),q=s(58749),K=s(69174),O=s(35691),V=s(63014),H=s(96778),W=s.n(H),G=s(61865),Q=s(53456),J=s(26952),X=e=>{var l,s,n,r,d,c,u,m,h,x,p,j,v,b,f,y,k;let{rulebook:Z}=e,[C,w]=(0,o.useState)(!1),I=O.Ry({name:O.Z_().required(),lawTitle:O.Z_().required(),description:O.Z_(),mainUrl:O.Z_().url().required(),feedUrl:O.Z_().url().required(),mainRuleId:O.Rx().integer().required(),refSearchId:O.Rx().integer(),feedId:O.Rx().integer().required(),regulatorCode:O.Ry({value:O.Z_().required(),label:O.Z_().required()}),countryCode:O.Ry({value:O.Z_().required(),label:O.Z_().required()}),ruleBookGroupId:O.Ry({value:O.Z_().required(),label:O.Z_().required()})}).required(),{register:S,handleSubmit:_,control:R,formState:{errors:D}}=(0,G.cI)({resolver:(0,K.X)(I),defaultValues:{lawTitle:Z.lawTitle,name:Z.name,description:Z.description,mainUrl:Z.mainUrl,feedUrl:Z.feedUrl,mainRuleId:Z.mainRuleId,refSearchId:Z.refSearchId,feedId:Z.feedId,regulatorCode:{value:null===(l=Z.regulator)||void 0===l?void 0:l.value,label:null===(s=Z.regulator)||void 0===s?void 0:s.label},countryCode:{value:null===(n=Z.country)||void 0===n?void 0:n.value,label:null===(r=Z.country)||void 0===r?void 0:r.label},ruleBookGroupId:{value:null===(d=Z.group)||void 0===d?void 0:d.value,label:null===(c=Z.group)||void 0===c?void 0:c.label}}}),z=(0,L.NL)(),B=async e=>{try{var l;W()(e)&&(e=null===(l=Z.group)||void 0===l?void 0:l.value);let s={filters:'name @= "'.concat(e,'"'),pageSize:100,canContainsRuleBooks:!0};return await (0,F.HX)(s)}catch(e){return V.toast.error("An unknown error occurred"),[]}},A=async e=>{try{var l;return W()(e)&&(e=null===(l=Z.regulator)||void 0===l?void 0:l.value),await (0,F.dy)(e)}catch(e){return V.toast.error("An unknown error occurred"),[]}},M=async e=>{try{var l;return W()(e)&&(e=null===(l=Z.country)||void 0===l?void 0:l.value),await (0,F.ox)(e)}catch(e){return V.toast.error("An unknown error occurred"),[]}},E=(0,U.D)({mutationFn:e=>(0,F.DL)(Z.id,e),onMutate:e=>({id:1}),onSuccess:(e,l)=>{w(!1),z.invalidateQueries({queryKey:["rulebooks"]}),z.invalidateQueries({queryKey:["rulebook",Z.id]}),z.setQueryData(["rulebook",Z.id],e=>{}),V.toast.success("Rulebook have been updated successfully")},onError:(e,l)=>{console.log("rolling back optimistic update with variables",l)},onSettled:(e,l,s,a)=>{}});return(0,a.jsxs)(t.Z,{className:"row",onSubmit:_(e=>{w(!0),E.mutate({...e,regulatorCode:e.regulatorCode.value,countryCode:e.countryCode.value,ruleBookGroupId:e.ruleBookGroupId.value})}),children:[(0,a.jsxs)("div",{className:"d-flex align-items-start",children:[(0,a.jsxs)(P.Z,{md:5,children:[(0,a.jsx)("div",{className:"title title-lg",children:(0,a.jsx)("span",{children:"General Informations"})}),(0,a.jsx)("div",{className:"avatar-group avatar-group avatar-group-overlapped",children:(0,a.jsx)("div",{className:"avatar avatar-rounded",children:(0,a.jsx)(Q.Z,{title:(0,J.be)(Z.lastModifiedBy),placement:"top",children:(0,a.jsx)(g(),{src:"https://ui-avatars.com/api/?name=".concat((0,J.g4)(Z.lastModifiedBy),"&rounded=true"),alt:"user",className:"avatar-img",width:32,height:32})})})})]}),(0,a.jsxs)(P.Z,{md:7,className:"d-flex flex-column justify-content-end align-items-end",children:[(0,a.jsxs)("div",{className:"title title-sm mb-0",children:[(0,a.jsx)("span",{children:Z.id}),(0,a.jsx)(N.Z,{size:"sm",variant:"flush-light",className:"btn-icon btn-rounded flush-soft-hover edit-tyn ms-1",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(T.Z,{})})})})]}),(0,a.jsxs)("div",{className:"title title-sm mb-0",children:[(0,a.jsx)("span",{children:Z.lastModifiedOn}),(0,a.jsx)(N.Z,{size:"sm",variant:"flush-light",className:"btn-icon btn-rounded flush-soft-hover edit-tyn ms-1",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(T.Z,{})})})})]})]})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"Group"})}),(0,a.jsx)(G.Qr,{name:"ruleBookGroupId",control:R,render:e=>{let{field:l}=e;return(0,a.jsx)(q.Z,{...l,defaultOptions:!0,cacheOptions:!0,loadOptions:B,placeholder:"Select RuleGroup"})}}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(u=D.ruleBookGroupId)||void 0===u?void 0:u.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"Name"})}),(0,a.jsx)(t.Z.Control,{type:"text",...S("name")}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(m=D.name)||void 0===m?void 0:m.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"Description"})}),(0,a.jsx)(t.Z.Control,{as:"textarea",...S("description"),rows:3}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(h=D.description)||void 0===h?void 0:h.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"LawTitle"})}),(0,a.jsx)(t.Z.Control,{as:"textarea",...S("lawTitle"),rows:5}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(x=D.lawTitle)||void 0===x?void 0:x.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"MainRuleId"})}),(0,a.jsx)(t.Z.Control,{type:"text",...S("mainRuleId")}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(p=D.mainRuleId)||void 0===p?void 0:p.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"FeedId"})}),(0,a.jsx)(t.Z.Control,{type:"text",...S("feedId")}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(j=D.feedId)||void 0===j?void 0:j.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"RefSearch Id"})}),(0,a.jsx)(t.Z.Control,{type:"text",...S("refSearchId")}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(v=D.refSearchId)||void 0===v?void 0:v.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"Main Page Url"})}),(0,a.jsx)(t.Z.Control,{type:"text",...S("mainUrl")}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(b=D.mainUrl)||void 0===b?void 0:b.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"Feed Page Url"})}),(0,a.jsx)(t.Z.Control,{type:"text",...S("feedUrl")}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(f=D.feedUrl)||void 0===f?void 0:f.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"Regulator"})}),(0,a.jsx)(G.Qr,{name:"regulatorCode",control:R,render:e=>{let{field:l}=e;return(0,a.jsx)(q.Z,{...l,defaultOptions:!0,cacheOptions:!0,loadOptions:A,placeholder:"Select Regulators"})}}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(y=D.regulatorCode)||void 0===y?void 0:y.message})]}),(0,a.jsxs)(P.Z,{md:12,children:[(0,a.jsx)("div",{className:"title title-wth-divider my-4",children:(0,a.jsx)("span",{children:"Country"})}),(0,a.jsx)(G.Qr,{name:"countryCode",control:R,render:e=>{let{field:l}=e;return(0,a.jsx)(q.Z,{...l,defaultOptions:!0,cacheOptions:!0,loadOptions:M,placeholder:"Select Countries"})}}),(0,a.jsx)(t.Z.Control.Feedback,{type:"invalid",children:null===(k=D.countryCode)||void 0===k?void 0:k.message})]}),(0,a.jsx)(P.Z,{md:12,children:(0,a.jsxs)("button",{type:"submit",className:i()("btn btn-primary my-4 btn-block ld-ext-right",{running:C}),disabled:C,children:["Update",(0,a.jsx)("div",{className:"ld ld-ring ld-spin"})]})})]})},Y=s(62067),$=s.n(Y),ee=s(19981),el=s(97654),es=s(2890),ea=s.n(es),en=e=>{let{show:l,onClose:s,headers:n,rulebookId:r}=e,d=ea().orderBy(n,["colNumber"],["asc"]),[c,u]=(0,o.useState)(!1),m=O.Ry({headers:O.IX().of(O.Ry({colNumber:O.Rx().required().integer().positive(),updatedValue:O.Z_().required(),isActive:O.O7().required()}).required())}).required(),{register:h,handleSubmit:x,control:p,formState:{errors:j}}=(0,G.cI)({resolver:(0,K.X)(m),defaultValues:{headers:d.map(e=>({id:e.id,colNumber:e.colNumber,updatedValue:e.updatedValue,isActive:e.isActive}))}}),v=(0,L.NL)(),b=(0,U.D)({mutationFn:e=>(0,F.Mg)(e),onMutate:e=>({id:1}),onSuccess:(e,l)=>{v.invalidateQueries({queryKey:["rulebooks"]}),v.invalidateQueries({queryKey:["rulebook",r]}),v.setQueryData(["rulebook",r],e=>{}),V.toast.success("Rulebook have been updated successfully"),u(!1),s()},onError:(e,l)=>{V.toast.error("An unknown error occcured when updating headers")},onSettled:(e,l,s,a)=>{u(!1)}});return(0,a.jsxs)(ee.Z,{show:l,onHide:s,centered:!0,dialogClassName:"mw-700p",backdrop:"static",children:[(0,a.jsxs)(ee.Z.Header,{className:"header-wth-bg-inv",children:[(0,a.jsx)(ee.Z.Title,{as:"h5",children:"Update Headers"}),(0,a.jsx)(N.Z,{bsPrefix:"btn-close",className:"text-white",onClick:s,disabled:c,children:(0,a.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,a.jsx)(ee.Z.Body,{children:(0,a.jsx)("div",{children:(0,a.jsx)(w.Z,{className:"nicescroll-bar h-700p",children:(0,a.jsx)("ul",{className:"p-3 pb-0 list-group list-group-flush",children:d.map((e,l)=>(0,a.jsxs)("li",{className:"list-group-item d-flex align-items-center justify-content-between mb-2",children:[(0,a.jsx)("div",{className:"col-sm-12 col-md-4 mx-1",children:(0,a.jsx)(el.Z,{controlId:"floatingEmail",label:"Order",children:(0,a.jsx)(t.Z.Control,{type:"number",placeholder:"Order",...h("headers.".concat(l,".colNumber"))})})}),(0,a.jsx)("div",{className:"col-sm-12 col-md-4 mx-1",children:(0,a.jsx)(el.Z,{controlId:"floatingEmail",label:e.originalValue,children:(0,a.jsx)(t.Z.Control,{type:"text",placeholder:"Replace header",...h("headers.".concat(l,".updatedValue"))})})}),(0,a.jsx)("div",{className:"col-sm-12 col-md-4 mx-1",children:(0,a.jsx)("div",{className:"form-check",children:(0,a.jsx)(t.Z.Check,{type:"checkbox",label:"Activate",...h("headers.".concat(l,".isActive"))})})})]},e.id))})})})}),(0,a.jsxs)(ee.Z.Footer,{className:"justify-content-center",children:[(0,a.jsx)(N.Z,{variant:"light",className:"flex-fill flex-1",onClick:s,disabled:c,children:"Cancel"}),(0,a.jsxs)("button",{disabled:c,className:i()("btn btn-primary flex-fill flex-1 ld-ext-right",{running:c}),onClick:x(e=>{u(!0),b.mutate({...e,rulebookId:r})}),children:["Save",(0,a.jsx)("div",{className:"ld ld-ring ld-spin"})]})]})]})},ei=s(16862),et=s(28481),er=s(3414),ed=s(89798),ec=s(79116),eo=s.n(ec),eu=s(88613);let em=e=>{let{onDelete:l,data:s}=e,[n,t]=(0,o.useState)(!1),{id:r,filename:d,datetime:c,extension:u}=s,m=async(e,l)=>{t(!0);try{let s=await fetch("/api/download/".concat(e)),a=await s.blob();(0,eu.saveAs)(a,l)}catch(e){V.toast.error("An error occurred when downloading file ".concat(d))}finally{t(!1)}};return(0,a.jsxs)("div",{className:"file-atc-box",children:[(0,a.jsx)("div",{className:"file-image",children:(0,a.jsx)("div",{style:{width:48},children:(0,a.jsx)(ed.a,{extension:u,...ed.j[u]})})}),(0,a.jsxs)("div",{className:"file-detail",children:[(0,a.jsx)("h6",{children:d}),(0,a.jsx)("p",{children:(0,a.jsxs)("span",{className:"ml-3",children:["Modified Time : ",$()(c).format(ei.PH)]})}),(0,a.jsxs)("div",{className:"file-actions",children:[(0,a.jsxs)("button",{className:"file-action-btn ld-ext-right",onClick:()=>l(r),children:["Delete",(0,a.jsx)("div",{className:"ld ld-ring ld-spin"})]}),(0,a.jsxs)("button",{onClick:()=>m(r,d),disabled:n,className:i()("file-action-btn ld-ext-right",{running:n}),children:["Download",(0,a.jsx)("div",{className:"ld ld-ring ld-spin"})]})]})]})]})};var eh=e=>{let{title:l,Files:s=[],onDelete:n,onSubmit:t,onDownload:r,isLoading:d=!1}=e,[c,u]=(0,o.useState)([]),m=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(l<0?0:l))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]},h=e=>{u(c.filter(l=>l.id!==e))},x=async e=>{e.preventDefault();var l=new FormData;eo()(c,e=>{l.append("Files",e.file,e.file.name)});var{success:s,error:a}=await t(l);s?(e.target.reset(),u([])):V.toast.error(a)};return(0,a.jsx)("div",{className:"fileupload-view",children:(0,a.jsx)("div",{className:"row justify-content-center m-0",children:(0,a.jsx)("div",{className:"col-md-12",children:(0,a.jsx)("div",{className:"card mt-5",children:(0,a.jsx)("div",{className:"card-body",children:(0,a.jsxs)("div",{className:"kb-data-box",children:[(0,a.jsx)("div",{className:"kb-modal-data-title",children:(0,a.jsx)("div",{className:"kb-data-title",children:(0,a.jsx)("h6",{children:l})})}),(0,a.jsxs)("form",{onSubmit:x,children:[(0,a.jsx)("div",{className:"kb-file-upload",children:(0,a.jsxs)("div",{className:"file-upload-box",children:[(0,a.jsx)("input",{type:"file",id:"fileupload",className:"file-upload-input",onChange:e=>{let l=[];for(let s=0;s<e.target.files.length;s++){l.push(e.target.files[s]);let a=new FileReader,n=e.target.files[s];a.onloadend=()=>{u(l=>[...l,{id:(0,et.x0)(),filename:e.target.files[s].name,filetype:e.target.files[s].type,fileimage:a.result,datetime:e.target.files[s].lastModifiedDate.toLocaleString("en-GB"),filesize:m(e.target.files[s].size),file:n}])},e.target.files[s]&&a.readAsDataURL(n)}},multiple:!0}),(0,a.jsxs)("span",{children:["Drag and drop or"," ",(0,a.jsx)("span",{className:"file-link",children:"Choose your files"})]})]})}),(0,a.jsx)("div",{className:"kb-attach-box mb-3",children:c.map(e=>{let{id:l,filename:s,fileimage:n,datetime:i,filesize:t}=e;return(0,a.jsxs)("div",{className:"file-atc-box",children:[s.match(/.(jpg|jpeg|png|gif|svg)$/i)?(0,a.jsxs)("div",{className:"file-image",children:[" ",(0,a.jsx)(er.Z,{src:n,alt:""})]}):(0,a.jsx)("div",{className:"file-image",children:(0,a.jsx)("div",{style:{width:48},children:(0,a.jsx)(ed.a,{extension:(0,ei.RT)(s),...ed.j[(0,ei.RT)(s)]})})}),(0,a.jsxs)("div",{className:"file-detail",children:[(0,a.jsx)("h6",{children:s}),(0,a.jsx)("p",{}),(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{children:["Size : ",t]}),(0,a.jsxs)("span",{className:"ml-2",children:["Modified Time : ",i]})]}),(0,a.jsx)("div",{className:"file-actions",children:(0,a.jsx)("button",{type:"button",className:"file-action-btn",onClick:()=>h(l),children:"Delete"})})]})]},l)})}),(0,a.jsx)("div",{className:"kb-buttons-box d-flex justify-content-end",children:(0,a.jsxs)("button",{type:"submit",disabled:0===c.length,className:i()("btn btn-primary btn-sm ld-ext-right",{running:d}),children:["Upload",(0,a.jsx)("div",{className:"ld ld-ring ld-spin"})]})})]}),s.length>0?(0,a.jsxs)("div",{className:"kb-attach-box",children:[(0,a.jsx)("hr",{}),s.map((e,l)=>(0,a.jsx)(em,{data:e,onDelete:n},l))]}):""]})})})})})})},ex=s(25791),ep=e=>{let{rulebook:l,notifier:s=ex.U}=e,[n,i]=(0,o.useState)(!1),[t,r]=(0,o.useState)(!1),d=(0,L.NL)(),c=async e=>{try{return i(!0),await h.mutateAsync({id:l.id,data:e}),d.invalidateQueries({queryKey:["rulebooks"]}),d.invalidateQueries({queryKey:["rulebook",l.id]}),d.setQueryData(["rulebook",l.id],e=>{}),{success:!0,error:""}}catch(e){return{success:!1,error:"An unknown error occured"}}finally{i(!1)}},u=async e=>{"SUCCESS"===await s.toastDeletionAsync(async()=>{if(!await s.displayDeleteAlert())throw Error("CANCEL");return await x.mutateAsync(e),"SUCCESS"})&&d.invalidateQueries({queryKey:["rulebook",l.id]})},m=l.attachedFiles.sort((e,l)=>{var s=new Date(e.lastModifiedOn);return new Date(l.lastModifiedOn).getTime()-s.getTime()}).map(e=>({id:e.id,filename:e.fileName,datetime:e.lastModifiedOn,extension:e.extension})),h=(0,U.D)({mutationFn:e=>{let{id:l,data:s}=e;return(0,F.Mr)(l,s)}}),x=(0,U.D)({mutationFn:e=>(0,F.PD)(e)}),p=(0,o.useCallback)(async(e,l)=>{r(!0);try{var s=await (0,F.Sv)(e);(0,eu.saveAs)(s,l)}catch(e){V.toast.error("an unknown error occurred")}finally{r(!1)}},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-5 mb-2",children:(0,a.jsx)("div",{className:"title title-lg mb-0",children:(0,a.jsx)("span",{children:"Attached files"})})}),(0,a.jsx)("div",{className:"file-block",children:(0,a.jsx)("ul",{className:"sh-files",children:(0,a.jsx)(eh,{Files:m,title:"Add Files to Rulebook",onSubmit:c,onDelete:u,onDownload:p,downloadPending:t,isLoading:n})})})]})},ej=e=>{let{rulebookId:l,onClose:s}=e,n=(0,M.useRouter)(),[t,c]=(0,o.useState)(!1),{isPending:u,isError:m,data:h}=(0,E.a)({queryKey:["rulebook","info",l],queryFn:async()=>{let e=await (0,F.Ns)(l);return console.log(e),e},staleTime:18e5,gcTime:36e5}),x=null!=h?h:{},p=(0,o.useCallback)(()=>{if(s){s();return}n.push("/apps/rulebooks")},[s,n]);return(0,a.jsx)("div",{className:i()("task-info ld-over",{running:u}),children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"ld ld-ring ld-spin"}),(0,a.jsx)("p",{className:"ld-label",children:"Loading..."})]}):(0,a.jsxs)(w.Z,{className:"nicescroll-bar",children:[(0,a.jsxs)("header",{className:"task-header bg-primary",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsx)(N.Z,{variant:"flush-light",onClick:()=>n.push("/apps/rulebooks/form/create?rulebookId=".concat(l)),className:"flush-outline-hover d-lg-inline-block d-none",children:(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon text-white",children:(0,a.jsx)(I.Z,{})})}),(0,a.jsx)("span",{className:"text-white",children:"Copy Rulebook"})]})}),(0,a.jsx)(N.Z,{variant:"light",className:"btn-icon btn-rounded d-lg-none d-lg-inline-block ms-1",children:(0,a.jsx)("span",{children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon text-white",children:(0,a.jsx)(I.Z,{})})})})})]}),(0,a.jsxs)("div",{className:"task-options-wrap",children:[(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(r.Z.Toggle,{variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover no-caret ms-1",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon text-white",children:(0,a.jsx)(d.Z,{})})})}),(0,a.jsxs)(r.Z.Menu,{align:"end",children:[(0,a.jsx)(r.Z.Header,{children:"Action"}),(0,a.jsxs)(r.Z.Item,{children:[(0,a.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,a.jsx)(S.Z,{})}),(0,a.jsx)("span",{children:"List of Runs"})]}),(0,a.jsxs)(r.Z.Item,{onClick:()=>c(!0),children:[(0,a.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,a.jsx)(_.Z,{})}),(0,a.jsx)("span",{children:"Update headers"})]}),(0,a.jsx)("div",{className:"dropdown-divider"}),(0,a.jsxs)(r.Z.Item,{className:"delete-task",children:[(0,a.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,a.jsx)(R.Z,{})}),(0,a.jsx)("span",{children:"Delete"})]})]})]}),(0,a.jsx)(N.Z,{className:"btn btn-icon btn-rounded flush-soft-hover close-task-info",onClick:p,children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon text-white",children:(0,a.jsx)(D.Z,{})})})})]})]}),(0,a.jsxs)("div",{className:"task-detail-body",children:[(0,a.jsx)(X,{rulebook:x}),(0,a.jsxs)(y.Z.Container,{defaultActiveKey:"headers",children:[(0,a.jsxs)(k.Z,{justify:!0,className:"nav-light nav-tabs nav-segmented-tabs active-theme mt-4",children:[(0,a.jsx)(k.Z.Item,{children:(0,a.jsx)(k.Z.Link,{eventKey:"headers",children:(0,a.jsx)("span",{className:"nav-link-text",children:"Excel Headers"})})}),(0,a.jsx)(k.Z.Item,{children:(0,a.jsx)(k.Z.Link,{eventKey:"runs",children:(0,a.jsx)("span",{className:"nav-link-text badge-on-text",children:"Runs"})})}),(0,a.jsx)(k.Z.Item,{children:(0,a.jsx)(k.Z.Link,{eventKey:"files",children:(0,a.jsx)("span",{className:"nav-link-text badge-on-text",children:"Files"})})})]}),(0,a.jsxs)(y.Z.Content,{className:"mt-7",children:[(0,a.jsxs)(y.Z.Pane,{eventKey:"headers",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:[(0,a.jsx)("div",{className:"title title-lg mb-0",children:(0,a.jsx)("span",{children:"Headers"})}),(0,a.jsx)("button",{onClick:()=>c(!0),className:"btn btn-xs btn-icon btn-rounded btn-light","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-original-title":"Edit Header",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsxs)("span",{className:"feather-icon",children:[(0,a.jsx)(z.Z,{})," "]})})})]}),(0,a.jsx)(Z.Z,{children:!W()(x.ruleBookHeaders)&&x.ruleBookHeaders.map(e=>(0,a.jsxs)(Z.Z.Item,{className:"d-flex justify-content-between align-items-center",disabled:!e.isActive,children:[(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsx)("div",{className:"form-check-label",children:(0,a.jsxs)("p",{className:"me-1 mb-2",children:[e.updatedValue," "]})})}),(0,a.jsx)(C.Z,{bg:e.isActive?"success":"danger",pill:!0,children:e.isActive?(0,a.jsx)(B.Z,{size:16}):(0,a.jsx)(A.Z,{size:16})})]},e.id))})]}),(0,a.jsxs)(y.Z.Pane,{eventKey:"runs",children:[(0,a.jsx)("div",{className:"d-flex align-items-center justify-content-between mb-2",children:(0,a.jsx)("div",{className:"title title-lg mb-0",children:(0,a.jsx)("span",{children:"Recent Runs"})})}),(0,a.jsx)(Z.Z,{as:"ul",variant:"flush",className:"activity-list",children:!W()(x.ruleBookRuns)&&x.ruleBookRuns.map(e=>(0,a.jsx)(Z.Z.Item,{action:!0,onClick:()=>n.push("/apps/rulebooks/".concat(x.id,"/runs/").concat(e.id)),children:(0,a.jsxs)("div",{className:"media d-flex align-items-center",children:[(0,a.jsx)("div",{className:"media-head",children:(0,a.jsx)(g(),{src:"https://ui-avatars.com/api/?name=".concat((0,J.g4)(e.runBy),"&rounded=true"),alt:"user",width:32,height:32})}),(0,a.jsxs)("div",{className:"media-body pb-0",children:[(0,a.jsxs)("p",{children:["Created By",(0,a.jsx)("span",{className:"text-dark ms-1",children:(0,J.be)(e.runBy)})]}),(0,a.jsx)("div",{className:"last-activity-time",children:$()(e.lastModifiedOn).format(ei.PH)})]})]})},e.id))})]}),(0,a.jsx)(y.Z.Pane,{eventKey:"files",children:(0,a.jsx)(ep,{rulebook:x})})]})]}),(0,a.jsx)(en,{show:t,onClose:()=>c(!1),headers:x.ruleBookHeaders,rulebookId:x.id})]})]})})},ev=s(40385),eb=s(42264),ef=s(97683),eg=s(40753),eN=s(59487),ey=s(21192),ek=e=>{let{toggleSidebar:l,showSidebar:s,toggleInfo:n,title:d="All RuleBooks",withSearch:c=!0}=e,{states:o,dispatch:u}=(0,ey.useGlobalStateContext)();return(0,a.jsxs)("header",{className:"todo-header",children:[(0,a.jsx)("div",{className:"d-flex align-items-center",children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(r.Z.Toggle,{as:"a",href:"#",className:"todoapp-title link-dark",children:(0,a.jsx)("h1",{children:d})}),(0,a.jsxs)(r.Z.Menu,{children:[(0,a.jsxs)(r.Z.Item,{as:m(),href:"/apps/rulebooks",children:[(0,a.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,a.jsx)(ev.Z,{})}),(0,a.jsx)("span",{children:"All RuleBooks"})]}),(0,a.jsxs)(r.Z.Item,{children:[(0,a.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,a.jsx)(eb.Z,{})}),(0,a.jsx)("span",{children:"My RuleBooks"})]}),(0,a.jsxs)(r.Z.Item,{children:[(0,a.jsx)("span",{className:"feather-icon dropdown-icon",children:(0,a.jsx)(ef.Z,{})}),(0,a.jsx)("span",{children:"Popular RuleBooks"})]}),(0,a.jsx)(r.Z.Divider,{as:"div"}),(0,a.jsx)(r.Z.Item,{children:"CIRO RuleBooks"}),(0,a.jsx)(r.Z.Item,{children:"UK FCA RuleBooks"}),(0,a.jsx)(r.Z.Item,{children:"EU CNCL RuleBooks"})]})]})}),(0,a.jsxs)("div",{className:"todo-options-wrap",children:[c?(0,a.jsx)(t.Z,{className:"d-sm-block d-none",role:"search",children:(0,a.jsx)(t.Z.Control,{type:"text",placeholder:"Search RuleBooks"})}):null,(0,a.jsx)(N.Z,{as:"a",variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover hk-navbar-togglable",onClick:()=>u({type:"top_nav_toggle"}),children:(0,a.jsx)(Q.Z,{placement:o.layoutState.topNavCollapse?"bottom":"top",title:"Collapse",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:o.layoutState.topNavCollapse?(0,a.jsx)(eg.Z,{}):(0,a.jsx)(eN.Z,{})})})})})]}),(0,a.jsx)("div",{className:i()("hk-sidebar-togglable",{active:s}),onClick:l})]})},eZ=s(7227),eC=s(29145),ew=s(40087),eI=s(81743),eS=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("nav",{className:"todoapp-sidebar",children:[(0,a.jsx)(w.Z,{className:"nicescroll-bar",children:(0,a.jsxs)("div",{className:"menu-content-wrap",children:[(0,a.jsx)(N.Z,{href:"/apps/rulebooks/form/create",as:m(),variant:"primary",className:"btn-rounded btn-block mb-4",children:"Add RuleBook"}),(0,a.jsx)("div",{className:"menu-group",children:(0,a.jsxs)(k.Z,{className:"nav-light navbar-nav flex-column",children:[(0,a.jsx)(k.Z.Item,{className:"active",children:(0,a.jsxs)(k.Z.Link,{href:"/apps/rulebooks",children:[(0,a.jsx)("span",{className:"nav-icon-wrap",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(eZ.Z,{})})}),(0,a.jsx)("span",{className:"nav-link-text",children:"All RuleBooks"})]})}),(0,a.jsx)(k.Z.Item,{children:(0,a.jsxs)(k.Z.Link,{children:[(0,a.jsx)("span",{className:"nav-icon-wrap",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(eb.Z,{})})}),(0,a.jsx)("span",{className:"nav-link-text",children:"My RuleBooks"})]})})]})}),(0,a.jsx)("div",{className:"separator separator-light"}),(0,a.jsx)("div",{className:"title-sm text-primary",children:"By Popular Regulators"}),(0,a.jsx)("div",{className:"menu-group",children:(0,a.jsxs)(k.Z,{className:"nav-light navbar-nav flex-column",children:[(0,a.jsx)(k.Z.Item,{children:(0,a.jsxs)(k.Z.Link,{className:"link-with-badge",children:[(0,a.jsx)(c.Z,{indicator:!0,bg:"danger",className:"badge-indicator-lg me-2"}),(0,a.jsx)("span",{className:"nav-link-text",children:"CIRO RuleBooks"})]})}),(0,a.jsx)(k.Z.Item,{children:(0,a.jsxs)(k.Z.Link,{className:"link-with-badge",children:[(0,a.jsx)(c.Z,{indicator:!0,bg:"orange",className:"badge-indicator-lg me-2"}),(0,a.jsx)("span",{className:"nav-link-text",children:"UK FCA RuleBooks"})]})}),(0,a.jsx)(k.Z.Item,{children:(0,a.jsxs)(k.Z.Link,{className:"link-with-badge",children:[(0,a.jsx)(c.Z,{indicator:!0,bg:"yellow",className:"badge-indicator-lg me-2"}),(0,a.jsx)("span",{className:"nav-link-text",children:"EU CNCL RuleBooks"})]})})]})})]})}),(0,a.jsx)("div",{className:"todoapp-fixednav",children:(0,a.jsx)("div",{className:"hk-toolbar",children:(0,a.jsxs)(k.Z,{className:"nav-light",children:[(0,a.jsx)(k.Z.Item,{className:"nav-link",children:(0,a.jsx)(N.Z,{variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover",children:(0,a.jsx)(Q.Z,{id:"tooltip2",placement:"top",title:"Settings",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(eC.Z,{})})})})})}),(0,a.jsx)(k.Z.Item,{className:"nav-link",children:(0,a.jsx)(N.Z,{variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover",children:(0,a.jsx)(Q.Z,{id:"tooltip3",placement:"top",title:"Archive",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(ew.Z,{})})})})})}),(0,a.jsx)(k.Z.Item,{className:"nav-link",children:(0,a.jsx)(N.Z,{variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover",children:(0,a.jsx)(Q.Z,{id:"tooltip2",placement:"top",title:"Help",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(eI.Z,{})})})})})})]})})})]})}),e_=s(42824),eR=s(49204),eD=s(38597),ez=s(99641),eB=s.n(ez),eA=s(40300),eM=e=>{var l,s,n,r,d,c;let{showInfo:u}=e,m=(0,M.useSearchParams)(),h=(0,M.useRouter)(),x=(0,M.usePathname)(),p=parseInt(null!==(l=m.get("page"))&&void 0!==l?l:"1"),j=parseInt(null!==(s=m.get("offset"))&&void 0!==s?s:"10"),v=null!==(n=m.get("sort"))&&void 0!==n?n:"-lastModifiedOn",{isPending:f,isError:g,data:N,isFetching:y,isPlaceholderData:k}=(0,E.a)({queryKey:["rulebooks",p,v],queryFn:()=>(0,F.pV)({filters:"",sortOrder:v,pageNumber:p,pageSize:j}),placeholderData:eA.Wk}),Z=(0,o.useCallback)((e,l)=>{let s=new URLSearchParams(m.toString());s.set(e,l),h.push("".concat(x,"?").concat(s.toString()))},[x,h,m]),C=[],I={pageNumber:1,pageSize:10,totalPages:0};W()(N)||(console.log(N),C=N.items,I=N.pagination);let S=e=>{Z("page",e)};return(0,a.jsx)("div",{className:"todo-body",children:(0,a.jsx)(w.Z,{className:"nicescroll-bar",children:(0,a.jsx)(e_.Z,{className:i()({running:f}),children:f?(0,a.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,a.jsx)("div",{className:"ld ld-ring ld-spin"}),(0,a.jsx)("p",{className:"ld-label",children:"Loading..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"todo-toolbar",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(t.Z.Select,{size:"sm",children:[(0,a.jsx)("option",{value:0,children:"Bulk actions"}),(0,a.jsx)("option",{value:1,children:"One"}),(0,a.jsx)("option",{value:2,children:"Two"}),(0,a.jsx)("option",{value:3,children:"Three"})]}),(0,a.jsx)("button",{className:"btn btn-sm btn-light ms-2",children:"Apply"}),(0,a.jsxs)(t.Z.Select,{size:"sm",className:"d-xxl-inline-block d-none mx-2",style:{minWidth:150},onChange:e=>{e.preventDefault(),Z("sort",e.currentTarget.value)},value:v,children:[(0,a.jsx)("option",{value:"-lastModifiedOn",children:"Sort by date"}),(0,a.jsx)("option",{value:"-name",children:"Sort by name"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"paging-info d-xxl-inline-block d-none",children:[null!==(r=I.currentStartIndex)&&void 0!==r?r:0," -"," ",null!==(d=I.currentEndIndex)&&void 0!==d?d:0," of"," ",null!==(c=I.totalCount)&&void 0!==c?c:0]}),(0,a.jsxs)(eR.Z,{className:"custom-pagination pagination-simple m-0 ms-3",children:[(0,a.jsx)(eR.Z.Prev,{disabled:!I.hasPrevious,onClick:()=>S(I.pageNumber-1),children:(0,a.jsx)("i",{className:"ri-arrow-left-s-line"})}),(0,a.jsx)(eR.Z.Next,{className:"paginate_button",disabled:!I.hasNext,onClick:()=>S(I.pageNumber+1),children:(0,a.jsx)("i",{className:"ri-arrow-right-s-line"})})]})]})]}),g?(0,a.jsx)("div",{}):(0,a.jsx)("div",{children:C.map(e=>(0,a.jsx)(b,{group:e,showInfo:u},e.id))}),(0,a.jsx)(eD.Z,{className:"mt-3",children:(0,a.jsx)(P.Z,{sm:12,children:(0,a.jsx)("div",{className:"float-end text-end",children:(0,a.jsx)(eB(),{breakLabel:"...",previousLabel:(0,a.jsx)("i",{className:"ri-arrow-left-s-line"}),nextLabel:(0,a.jsx)("i",{className:"ri-arrow-right-s-line"}),onPageChange:e=>{Z("page",e.selected)},pageRangeDisplayed:5,pageCount:I.totalPages,renderOnZeroPageCount:null,containerClassName:"custom-pagination pagination-simple active-theme pagination",pageClassName:"page-item",nextClassName:"page-item",previousClassName:"page-item",previousLinkClassName:"page-link",nextLinkClassName:"page-link",pageLinkClassName:"page-link",activeClassName:"active"})})})})]})})})})};s(16633);var eE=s(49230),eF=s(23615),eL=s(43806),eU=s(44910),eP=s(19141),eT=s(94022),eq=s(46928),eK=s(62545);let eO=e=>{let{onSave:l,editedDetail:s,isPending:n,currentNextAndPrevious:i,navigateTo:t,props:r,typeOptions:d,params:c,onCellChange:o}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"d-flex flex-column gap-3",style:{minHeight:500},children:[(0,a.jsxs)("div",{className:"d-flex justify-content-end align-items-center gap-2",children:[(0,a.jsxs)(N.Z,{onClick:l,disabled:!s||n,className:"d-flex gap-2 align-items-center",children:["Save",n&&(0,a.jsx)(eK.g4,{height:"30",width:"30",color:"#ccc"})]}),!!(null==i?void 0:i.previous)&&(0,a.jsx)(Q.Z,{id:"124",placement:"bottom",title:"Previous detail",children:(0,a.jsx)(m(),{href:t(i.previous.id),className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",replace:!0,children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(eL.Z,{size:15})})})}),!!(null==i?void 0:i.next)&&(0,a.jsx)(Q.Z,{id:"124",placement:"bottom",title:"Next detail",children:(0,a.jsx)(m(),{href:t(i.next.id),className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",replace:!0,children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(eU.Z,{size:15})})})})]}),(0,a.jsxs)(eD.Z,{children:[(0,a.jsx)(P.Z,{lg:2,children:(0,a.jsx)("ul",{children:r.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(m(),{href:(0,ei.zo)("#",e.propName),children:e.propDisplay})},e.propName))})}),(0,a.jsx)(P.Z,{lg:10,className:"d-flex flex-column gap-3",style:{maxHeight:"100vh",overflow:"scroll"},children:r.map(e=>{var l,s,t,r;return(0,a.jsx)(eF.RulebookDetailEditionCell,{...e,value:null!==(t=null==i?void 0:null===(s=i.current)||void 0===s?void 0:null===(l=s[e.propName])||void 0===l?void 0:l.toString())&&void 0!==t?t:"",isNumber:"mainRuleId"===e.propName,types:d,rulebookDetailId:null!==(r=c.detailId)&&void 0!==r?r:"",onChange:o,isLoading:n},e.propName)})})]})]})})},eV=e=>{let{options:l,onCopy:s}=e,[n,i]=(0,o.useState)(null),[r,d]=(0,o.useState)(null),[c,u]=(0,o.useState)(0),[m,h]=(0,o.useState)(!1),x=(0,o.useCallback)(async e=>{i(e)},[]),p=(0,o.useCallback)(async e=>{d(e)},[]),j=(0,o.useCallback)(async e=>{u(e.target.value)},[]),v=(0,o.useCallback)(async()=>{h(!0);try{var e,l;let a=null!==(e=null==n?void 0:n.value)&&void 0!==e?e:-1,i=null!==(l=null==r?void 0:r.value)&&void 0!==l?l:-1;console.log(a,i,eE.ob[a-1],eE.ob[i-1],"handleClick"),a>0&&i>0&&c>0&&await s(a,i,c)}finally{h(!1)}},[null==n?void 0:n.value,null==r?void 0:r.value,c,s]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("small",{className:"form-text text-muted mb-3",children:"You must select the fields following the order of the headers on the table."}),(0,a.jsxs)("div",{className:"d-flex gap-3 flex-wrap",children:[(0,a.jsx)("div",{style:{minWidth:300},children:(0,a.jsx)(eT.ZP,{options:l,placeholder:"First cell",value:n,onChange:x})}),(0,a.jsx)("div",{style:{minWidth:300},children:(0,a.jsx)(eT.ZP,{options:l,placeholder:"Last cell",value:r,onChange:p,isOptionDisabled:e=>e.value<((null==n?void 0:n.value)||-1)})}),(0,a.jsx)(t.Z.Control,{type:"number",placeholder:"Number of line...",value:c,onChange:j,style:{maxWidth:100}}),(0,a.jsxs)(N.Z,{disabled:c<=0||!(null==n?void 0:n.value)||!(null==r?void 0:r.value)||m,onClick:v,className:"d-flex gap-2 align-items-center",children:["Copy data",m&&(0,a.jsx)(eK.g4,{height:"30",width:"30",color:"#ccc"})]})]})]})};var eH=e=>{var l;let{notifier:s=ei.U0,onCopy:n=F.wG}=e,[i,t]=(0,o.useState)(),{id:r}=(0,M.useParams)(),d=(0,M.useSearchParams)(),c=(0,o.useMemo)(()=>({propName:d.get("prop"),detailId:d.get("detailId"),auditId:d.get("auditId"),rulebookId:r}),[r,d]),u=(0,o.useCallback)(()=>(0,F.Ns)(c.rulebookId),[c.rulebookId]),m=(0,o.useCallback)(()=>(0,F.mZ)(),[]),{data:h,isLoading:x}=(0,eq.t8)(null!==(l=null==c?void 0:c.detailId)&&void 0!==l?l:""),{data:p,isLoading:j}=(0,E.a)({queryKey:[eE.cL,c.rulebookId],queryFn:u}),{data:v}=(0,E.a)({queryKey:[eE.yc],queryFn:m}),b=(0,o.useMemo)(()=>{var e;return null!==(e=null==v?void 0:v.map(e=>({label:e.name,value:e.name})))&&void 0!==e?e:[]},[v]),f=(0,o.useCallback)((e,l)=>{t(s=>{var a;return(null==h?void 0:null===(a=h.current)||void 0===a?void 0:a[e])===l?s?(null==s||delete s[e],{...s}):null:s?{...s,[e]:l}:{[e]:l}})},[h]),g=(0,o.useMemo)(()=>null==p?void 0:p.ruleBookHeaders,[p]),N=(0,o.useMemo)(()=>{let e;if(g)e=g.map(e=>{var l;return{propName:eE.ob[e.colNumber-1],propIndex:e.colNumber,propDisplay:null!==(l=e.updatedValue)&&void 0!==l?l:e.originalValue,isActive:e.isActive}});else{var l;e=Object.keys(null!==(l=null==h?void 0:h.current)&&void 0!==l?l:{}).map(e=>{let l=(0,eE.mi)(e);return{propName:e,propIndex:l,propDisplay:(0,ei.s1)(e),isActive:!0}})}return e.filter(e=>e.propIndex>1&&e.isActive).sort((e,l)=>e.propName===c.propName?-100:l.propName===c.propName?100:e.propIndex-l.propIndex)},[h,g,c.propName]),y=(0,o.useMemo)(()=>N.sort((e,l)=>e.propIndex-l.propIndex).map(e=>({label:e.propDisplay,value:e.propIndex})),[N]),k=(0,L.NL)(),{addCells:Z}=(0,eq.vy)(),{isPending:C,mutate:w}=(0,U.D)({mutationFn:async()=>{var e;i&&await (0,F.bw)(null!==(e=c.detailId)&&void 0!==e?e:"",i)},onSuccess:async()=>{s.success("Detail successfully updated !"),await k.invalidateQueries({predicate:e=>[eE.cL,eE.sY].includes(e.queryKey[0]),refetchType:"all"}),Z(Object.keys(null!=i?i:{}).map(e=>{var l;return{detailId:null!==(l=c.detailId)&&void 0!==l?l:"",propName:e}})),t(void 0)},onError:async()=>{s.error("Something went wrong during update !")}}),I=(0,o.useCallback)(e=>{var l,s;return(0,ei.O)({prop:null!==(l=c.propName)&&void 0!==l?l:"",detailId:e,auditId:null!==(s=c.auditId)&&void 0!==s?s:""})},[c.auditId,c.propName]),S=(0,o.useCallback)(async(e,l,a)=>{await s.toastAsync(async()=>{try{var s;return await n(c.rulebookId,null!==(s=c.auditId)&&void 0!==s?s:"",a,e,l,"Desc",(null==h?void 0:h.current.rowNumber)?[null==h?void 0:h.current.rowNumber]:[]),await k.invalidateQueries({queryKey:[eE.cL]}),"SUCCESS"}catch(e){throw Error("UNKNOWN")}},"Duplication in progress","Duplication successful","Something went wrong during Duplication!","")},[h,s,n,c.auditId,c.rulebookId,k]),_=(0,o.useMemo)(()=>[{Icon:(0,a.jsx)(eP.Z,{}),title:"Edition",child:(0,a.jsx)(eO,{onSave:w,editedDetail:i,isPending:C,currentNextAndPrevious:h,navigateTo:I,props:N,typeOptions:b,params:c,onCellChange:f})},{Icon:(0,a.jsx)(T.Z,{}),title:"Copy",child:(0,a.jsx)(eV,{options:y,onCopy:S})}],[h,i,f,S,C,w,I,y,c,N,b]);return(0,a.jsx)(a.Fragment,{children:!j&&!x&&(0,a.jsx)(eF.Tabs,{tabs:_})})}},23615:function(e,l,s){"use strict";s.r(l),s.d(l,{ApiKeyItem:function(){return eA},ApiKeyList:function(){return eF},CheckboxControl:function(){return ek},ContentEditable:function(){return O},DataTable:function(){return G},EditableCell:function(){return ea},MultiCreateTableSelect:function(){return eI},Pagination:function(){return H},RuleBookDetailGroup:function(){return L},RuleBookDetailList:function(){return _},RuleDetailInformation:function(){return m},RulebookDetailEditionCell:function(){return q},SelectLine:function(){return E},SelectListString:function(){return eS},SimpleSelect:function(){return e_},Tabs:function(){return d},UserDetailLayout:function(){return ey},UserInformation:function(){return en}});var a=s(57437),n=s(2265),i=s(29352),t=s(8427),r=s(92887),d=e=>{var l,s;let{tabs:d}=e,c=(0,n.useMemo)(()=>d.map(e=>({title:e.title,Icon:e.Icon})),[d]),o=(0,n.useMemo)(()=>d.map(e=>({child:e.child,key:e.title})),[d]);return(0,a.jsx)("div",{children:(0,a.jsxs)(i.Z,{defaultActiveKey:null!==(s=null===(l=c[0])||void 0===l?void 0:l.title)&&void 0!==s?s:"",children:[(0,a.jsx)(t.Z,{variant:"tabs",className:"nav-light nav-icon",children:c.map(e=>(0,a.jsx)(t.Z.Item,{children:(0,a.jsxs)(t.Z.Link,{eventKey:e.title,children:[e.Icon&&(0,a.jsx)("span",{className:"nav-icon-wrap",children:(0,a.jsx)("span",{className:"feather-icon",children:e.Icon})}),(0,a.jsx)("span",{className:"nav-link-text",children:e.title})]})},e.title))}),(0,a.jsx)(r.Z.Content,{children:o.map(e=>(0,a.jsx)(r.Z.Pane,{eventKey:e.key,children:e.child},e.key))})]})})},c=s(61396),o=s.n(c),u=s(16862),m=e=>{var l,s;let{detail:n}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Description"}),(0,a.jsx)("p",{children:n.description})]}),(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Main page"}),(0,a.jsx)(o(),{href:n.mainUrl,children:n.mainUrl})]}),(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Feed page"}),(0,a.jsx)(o(),{href:n.feedUrl,children:n.feedUrl})]}),(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Law title"}),(0,a.jsx)("p",{children:n.lawTitle})]}),(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Main rule id"}),(0,a.jsx)(o(),{href:(0,u.zo)("https://reg-track.com/rules/search/Details/",n.mainRuleId.toString()),children:n.mainRuleId})]}),(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Regulator code"}),(0,a.jsx)("p",{children:null===(l=n.regulator)||void 0===l?void 0:l.value})]}),(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Country code"}),(0,a.jsx)("p",{children:null===(s=n.country)||void 0===s?void 0:s.value})]}),(0,a.jsxs)("div",{className:"rule-detail-section",children:[(0,a.jsx)("h5",{children:"Feed id"}),(0,a.jsx)(o(),{href:(0,u.zo)("https://reg-track.com/RssSettings/Edit/",n.feedId.toString()),children:n.feedId})]})]})},h=s(14506),x=s(60204),p=s(49230),j=s(46928),v=s(38038),b=s(67663),f=s(57042),g=s(38597),N=s(94434),y=s(46716),k=s(62545),Z=s(94022),C=s(23129),w=s.n(C);let I=e=>e?(0,u.zo)("Run on ",(0,u.sG)(e.lastModifiedOn)," by ",e.runBy):"",S=e=>e?(0,u.zo)("Audit on ",(0,u.sG)(e.lastModifiedOn)," (".concat(e.version,")")):"";var _=e=>{var l,i,t;let{headers:r,details:d,runs:c,defaultAuditId:o="",defaultRunId:m="",getDetailByAudit:C,rulebookId:_="",notifier:R=u.U0,onInsert:D=h.xc,onDuplicate:z=h.wG,onDelete:B=h.v7}=e,[A,M]=(0,n.useState)(!1),[E,F]=(0,n.useState)(!1),L=(0,v.NL)(),[U,P]=(0,n.useState)({value:m,label:I(c.find(e=>e.id===m))}),[T,q]=(0,n.useState)({value:o,label:S(null===(l=c.find(e=>e.id===m))||void 0===l?void 0:l.audits.find(e=>e.id===o))}),K=(0,n.useCallback)(async()=>{var e;return await C(null!==(e=null==T?void 0:T.value)&&void 0!==e?e:"",d.pageSize,d.pageNumber)},[d.pageNumber,d.pageSize,C,null==T?void 0:T.value]),{data:O,isLoading:V,isFetching:H}=(0,b.a)({queryKey:[p.cL,p.B3,null!==(i=null==T?void 0:T.value)&&void 0!==i?i:o,d.pageSize,d.pageNumber],queryFn:K,initialData:d}),W=(0,n.useMemo)(()=>{var e,l;return null!==(l=null===(e=c.find(e=>e.id===U.value))||void 0===e?void 0:e.audits)&&void 0!==l?l:[]},[c,U.value]),Q=(0,n.useCallback)(e=>{var l,s;P({value:null!==(l=null==e?void 0:e.value)&&void 0!==l?l:"",label:null!==(s=null==e?void 0:e.label)&&void 0!==s?s:""}),q(null)},[]),J=(0,n.useCallback)(e=>{var l,s;q({value:null!==(l=null==e?void 0:e.value)&&void 0!==l?l:"",label:null!==(s=null==e?void 0:e.label)&&void 0!==s?s:""})},[]),X=(0,n.useMemo)(()=>r.filter(e=>e.isActive).sort((e,l)=>e.colNumber-l.colNumber).map(e=>{var l,s;let n=p.ob[e.colNumber-1];switch(n){case"rowNumber":return{field:"rowNumber",header:"Index",width:100,render:e=>(0,a.jsx)("div",{className:"m-3",children:e.rowNumber})};case"paragraph":return{field:n,header:e.updatedValue||e.originalValue,isEditable:!0,width:600};case"ruleType":case"note":return{field:n,header:e.updatedValue||e.originalValue,isEditable:!0,width:300};case"ruleDate":case"lastRegUpdate":case"effectiveDate":case"complianceDate":return{field:n,header:e.updatedValue||e.originalValue,isEditable:!0,width:300,isDate:!0};case"mainRuleId":return{field:n,header:null!==(l=e.updatedValue)&&void 0!==l?l:e.originalValue,isEditable:!0,width:150,isHtml:!1,baseUrl:"https://reg-track.com/rules/search/Details/"};default:return{field:null!=n?n:"",header:null!==(s=e.updatedValue)&&void 0!==s?s:e.originalValue,width:300,isEditable:!0}}}),[r]),{editedCells:Y}=(0,j.vy)(),$=(0,n.useCallback)((e,l)=>{var a,n,i;if(!s.g.window)return"";let t=new URL((0,u.zo)(null!==(i=null===(n=window)||void 0===n?void 0:null===(a=n.location)||void 0===a?void 0:a.host)&&void 0!==i?i:"","/editor"));return t.searchParams.set("prop",l),t.searchParams.set("detailId",e.id),T&&t.searchParams.set("auditId",T.value),t.toString().replace((0,u.zo)(window.location.host,"/"),"")},[T]),ee=(0,n.useCallback)((e,l)=>Y.findIndex(s=>s.detailId===e.id&&s.propName===l)>=0,[Y]),el=(0,n.useCallback)(async e=>{await R.toastAsync(async()=>{var l;if((await D(e,null!==(l=null==T?void 0:T.value)&&void 0!==l?l:"","Desc")).id)return await L.invalidateQueries({queryKey:[p.cL]}),"SUCCESS";throw Error("UNKNOWN")},"Insertion in progress","Insertion successful","Something went wrong during insertion!","")},[R,D,L,null==T?void 0:T.value]),es=(0,n.useCallback)(async e=>{await R.toastAsync(async()=>{try{var l;return await z(_,null!==(l=null==T?void 0:T.value)&&void 0!==l?l:"",1,1,15,"Desc",[e]),await L.invalidateQueries({queryKey:[p.cL]}),"SUCCESS"}catch(e){throw Error("UNKNOWN")}},"Duplication in progress","Duplication successful","Something went wrong during Duplication!","")},[R,z,L,_,null==T?void 0:T.value]),ea=(0,n.useCallback)(async e=>{"SUCCESS"===await R.toastDeletionAsync(async()=>{if(!await R.displayDeleteAlert())throw Error("CANCEL");return await (0,h.v7)(e),"SUCCESS"})&&await L.invalidateQueries({queryKey:[p.cL]})},[R]),en=(0,n.useCallback)(()=>{F(e=>!e)},[]);return c.length&&o?(0,a.jsxs)(g.Z,{className:(0,f.Z)(w().page,{[w().moreInfo]:E}),children:[(0,a.jsxs)(N.Z,{xs:E?8:12,children:[(V||H)&&(0,a.jsx)("p",{children:(0,a.jsx)(k.g4,{height:"30",width:"30",color:"#ccc"})}),(0,a.jsxs)("fieldset",{disabled:V||H,className:"d-flex align-items-center gap-3 mb-3 flex-wrap",children:[(0,a.jsx)(Z.ZP,{options:c.map(e=>({value:e.id,label:I(e)})),value:U,onChange:Q,isLoading:V,isDisabled:V}),(0,a.jsx)(Z.ZP,{options:W.map(e=>({value:e.id,label:S(e)})),value:T,onChange:J,isLoading:V,isDisabled:V}),(0,a.jsx)(y.Z,{className:"d-flex gap-2 align-items-center",disabled:A||!T,size:"sm",as:"a",target:"_blank",href:"/api/rulebook-audit/".concat(_,"/").concat(null==T?void 0:T.value,"/export"),children:"Export as excel"}),!E&&(0,a.jsx)(y.Z,{size:"sm",onClick:en,children:"Show informations"})]}),(0,a.jsx)("fieldset",{disabled:V||H,className:(0,f.Z)(w()["detail-list"],w().table),children:(0,a.jsx)(G,{rows:X,data:null!==(t=null==O?void 0:O.data)&&void 0!==t?t:[],navigateTo:$,defineActive:ee,onInsert:el,onDuplicate:es,onDelete:ea,id:"rulebook-detail-data-table"})})]}),E&&(0,a.jsx)(N.Z,{xs:4,className:"rule-information",children:(0,a.jsx)(x.yS,{rulebookId:_,onClose:en})})]}):(0,a.jsx)("h1",{children:"No detail found"})},R=s(2581),D=s(54440),z=s.n(D),B=s(95704),A=s(23377),M=s(48616),E=e=>{let{children:l,id:s,onChange:i,menuItem:t=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.Z.Item,{className:"edit-task",children:"Edit Task"}),(0,a.jsx)(B.Z.Item,{className:"view-task",children:"View Task"}),(0,a.jsx)(B.Z.Item,{className:"delete-task",children:"Delete Task"})]})}=e,r=(0,n.useCallback)(()=>{i(s)},[s,i]);return(0,a.jsx)("li",{className:z()("border rounded p-2",{selected:!0}),children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center",children:[(0,a.jsxs)(A.Z.Check,{children:[(0,a.jsx)(A.Z.Check.Input,{type:"checkbox",onChange:r}),(0,a.jsx)(A.Z.Check.Label,{})]}),(0,a.jsx)("div",{children:l})]}),(0,a.jsx)("div",{className:"d-flex flex-shrink-0 align-items-center ms-3",children:(0,a.jsxs)(B.Z,{children:[(0,a.jsx)(B.Z.Toggle,{variant:"flush-light",className:"btn-icon btn-rounded flush-soft-hover no-caret",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(M.Z,{})})})}),(0,a.jsx)(B.Z.Menu,{align:"end",children:t})]})})]})})};let F=(0,n.forwardRef)((e,l)=>{let{groups:s,label:i,onSelect:t,isCollapsed:r=!0,onClickItem:d}=e,c=(0,n.useMemo)(()=>{var e;return null===(e=s[0])||void 0===e?void 0:e.name},[s]);return s.length?(0,a.jsx)("div",{ref:l,children:s.map(e=>{var l;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(R.Z,{targetId:c,collapsed:!0,title:(0,a.jsx)("h6",{children:e.value.trim()||(0,u.zo)("Empty ",null!==(l=i[c])&&void 0!==l?l:"")}),bsPrefix:"a",href:"#",wrapperClass:"card-border",children:[e.children&&(0,a.jsx)(F,{groups:e.children,label:i,onSelect:t,onClickItem:d}),!e.children&&(0,a.jsx)("ul",{className:"d-flex flex-column gap-2",children:e.groups.map(e=>(0,a.jsxs)(E,{id:e.id,onChange:t,menuItem:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(B.Z.Item,{className:"edit-task",onClick:()=>d(e.id),children:"Edit Task"})}),children:["#",e.rowNumber," ",e.paragraph]},e.id))})]})})})}):null});F.displayName="RuleBookDetailGroup";var L=F;let U={inline:!0,theme:"silver",menubar:!1,contextmenu:!1,plugins:["importcss","autolink","link","lists","code","table","autosave","wordcount"],toolbar:"undo redo | bold italic underline strikethrough | fontfamily fontsize blocks alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link unlink forecolor backcolor removeformat | code",autosave_ask_before_unload:!0,autosave_interval:"1m",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"5m",default_link_target:"_blank",target_list:[{title:"Current window",value:"_self"},{title:"New window",value:"_blank"}],browser_spellcheck:!0,extended_valid_elements:"a[href|target=_blank]",relative_urls:!1,remove_script_host:!1};var P=s(912),T=s(57918),q=e=>{let{propName:l,propIndex:s,propDisplay:i,value:t,isNumber:r=!1,types:d,rulebookDetailId:c,isLoading:o=!1,onChange:u=null}=e,m=(0,n.useMemo)(()=>null==l?void 0:l.toLocaleLowerCase().includes("date"),[l]),h=(0,n.useMemo)(()=>"ruleType"===l,[l]),x=(0,n.useRef)(),p=(0,n.useMemo)(()=>null==d?void 0:d.find(e=>e.value===t),[d,t]),j=(0,n.useCallback)(async e=>{u&&u(l,e.value)},[u,l]),v=(0,n.useCallback)(async e=>{let s=e.target.value;t!==s&&u&&u(l,s)},[u,l,t]),b=(0,n.useCallback)(async()=>{var e;let s=null===(e=x.current)||void 0===e?void 0:e.getContent();t!==s&&u&&u(l,s)},[u,l,t]);return(0,a.jsxs)("fieldset",{id:l,disabled:o,children:[(0,a.jsx)("legend",{children:i}),h&&(0,a.jsx)(Z.ZP,{options:d,defaultValue:p,onChange:j,isDisabled:o,isLoading:o}),m&&(0,a.jsx)(A.Z.Control,{type:"date",defaultValue:(0,T.WU)(new Date(t),"yyyy-MM-dd"),onBlur:v}),r&&(0,a.jsx)(A.Z.Control,{type:"number",defaultValue:t,onBlur:v}),!m&&!h&&!r&&(0,a.jsx)(P.M,{onInit:(e,l)=>x.current=l,apiKey:"59tfa9du2nj9f2vknfej0bmxhctmfjh34keva1mouvizl8af",initialValue:t,init:U,onChange:b,disabled:o}),o&&(0,a.jsx)(k.g4,{height:"30",width:"30",color:"#ccc"})]})},K=s(66767),O=e=>{let{text:l,onChange:s}=e,[i,t]=(0,n.useState)(!1),r=(0,n.useRef)(null),d=(0,n.useCallback)(e=>{t(!0)},[]),c=(0,n.useCallback)(e=>{s(e.level.content),t(!1)},[s]),o=(0,n.useCallback)(()=>{t(!1)},[]);return(0,n.useEffect)(()=>()=>{t(!1)},[]),(0,a.jsxs)("div",{className:(0,f.Z)({"d-flex align-items-center inline-editable-wrap":!i}),style:i?{display:"grid",gridTemplateColumns:"minmax(10px, auto) auto",alignItems:"center",gap:1}:{},children:[(0,a.jsx)(P.M,{apiKey:"59tfa9du2nj9f2vknfej0bmxhctmfjh34keva1mouvizl8af",onInit:(e,l)=>r.current=l,initialValue:l,init:{theme:"silver",menubar:!1,inline:!0,width:"100%",height:200,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | bold italic underline strikethrough backcolor | fontselect fontsizeselect formatselect | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",autosave_ask_before_unload:!0,autosave_interval:"30s",autosave_prefix:"{path}{query}-{id}-",autosave_restore_when_empty:!1,autosave_retention:"2m",image_advtab:!0,link_list:[{title:"My page 1",value:"https://www.tiny.cloud"},{title:"My page 2",value:"http://www.moxiecode.com"}],image_list:[{title:"My page 1",value:"https://www.tiny.cloud"},{title:"My page 2",value:"http://www.moxiecode.com"}],image_class_list:[{title:"None",value:""},{title:"Some class",value:"class-name"}],content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",image_caption:!0,quickbars_selection_toolbar:"bold italic | quicklink h2 h3 blockquote quickimage quicktable",noneditable_noneditable_class:"mceNonEditable",toolbar_mode:"sliding",spellchecker_ignore_list:["Ephox","Moxiecode"],tinycomments_mode:"embedded"},onChange:c,onBlur:o,disabled:!i}),!i&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(y.Z,{size:"sm",variant:"flush-light",className:"btn-icon btn-rounded flush-soft-hover edit-tyn ms-1",onClick:d,children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(K.Z,{})})})})})]})},V=s(49204),H=e=>{let{numberOfPage:l,currentPage:s,hasNext:i=!0,hasPrevious:t=!0,pageSize:r}=e,d=(0,n.useMemo)(()=>{let e=s-5,a=e<0?s+5-e:s+5;return Array.from({length:l},(e,l)=>l+1).filter(l=>l>=e&&l<=a)},[s,l]),c=(0,n.useMemo)(()=>r?(0,u.zo)("&&pageSize=",r.toString()):"",[r]);return(0,a.jsx)("nav",{className:"pagination-wrap d-inline-block","aria-label":"Page navigation example",children:(0,a.jsxs)(V.Z,{size:"sm",children:[t&&(0,a.jsx)(V.Z.Prev,{as:o(),href:(0,u.zo)("?pageNumber=",(s-1).toString()),children:"Previous"}),d[0]>1&&(0,a.jsx)(V.Z.Ellipsis,{}),d.map(e=>(0,a.jsx)(V.Z.Item,{active:e===s,as:o(),href:(0,u.zo)("?pageNumber=",e.toString(),c),children:e},e)),d[d.length-1]!==l&&(0,a.jsx)(V.Z.Ellipsis,{}),i&&(0,a.jsx)(V.Z.Next,{as:o(),href:(0,u.zo)("?pageNumber=",(s+1).toString(),c),children:"Next"})]})})},W=s(71387),G=function(e){let{rows:l,data:s,navigateTo:i=()=>"",defineActive:t=()=>!1,onInsert:r,onDuplicate:d,onDelete:c=()=>Promise.resolve(),id:o}=e,m=(0,n.useMemo)(()=>l.map(e=>e.header),[l]),h=(0,n.useCallback)((e,l)=>{var s;let{content:n,field:t,render:o,isEditable:u,width:m,isDate:h,isHtml:x,baseUrl:p}=e;return u?(0,a.jsx)(ea,{id:l.id,rowNumber:null!==(s=l.rowNumber)&&void 0!==s?s:"",value:l[t],prop:null==t?void 0:t.toString(),redirectUrl:i(l,t),isDate:h,isHtml:x,baseUrl:p,onDuplicate:d,onInsert:r,onDelete:()=>c(l.id)}):n?n(l):o?o(l):l[t]},[i,c,d,r]),x=(0,n.useCallback)(e=>e?{minWidth:e,padding:0}:void 0,[]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(W.Z,{responsive:!0,size:"lg",className:"data-table",bordered:!0,children:[(0,a.jsx)("thead",{style:{position:"sticky",top:0,backgroundColor:"white!important",zIndex:1},children:(0,a.jsx)("tr",{children:m.map(e=>(0,a.jsx)("th",{children:e},e))})}),(0,a.jsx)("tbody",{id:o,children:s.map(e=>(0,a.jsx)("tr",{id:(0,u.zo)("line-",e.id),children:l.map(l=>(0,a.jsx)("td",{style:x(l.width),className:(0,f.Z)("cells",{active:t(e,l.field)}),children:h(l,e)},l.field.toString()))},e.id))})]})})},Q=s(52687),J=s.n(Q),X=s(19141),Y=s(47154),$=s(59851),ee=s(34321),el=s(53456);let es=e=>{let{isHtml:l,isDate:s,baseUrl:n,value:i}=e;return s?(0,a.jsx)("p",{children:(0,u.sG)(i)}):l?(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:i}}):n?(0,a.jsx)("a",{href:(0,u.zo)(n,i),target:"_blank",children:i}):(0,a.jsx)("p",{children:i})};var ea=e=>{let{id:l,rowNumber:s,prop:i,value:t,baseUrl:r,css:d,redirectUrl:c="",isDate:u=!1,isHtml:m=!0,onInsert:h,onDuplicate:x,onDelete:p}=e,[j,v]=(0,n.useState)(!1),[b,g]=(0,n.useState)(!1),[N,k]=(0,n.useState)(!1),Z=(0,n.useCallback)(async()=>{v(!0);try{h&&await h(l)}finally{v(!1)}},[l,h]),C=(0,n.useCallback)(async()=>{g(!0);try{x&&await x(parseInt(s))}finally{g(!1)}},[x,s]),w=(0,n.useCallback)(async()=>{k(!0);try{p&&await p()}finally{k(!1)}},[p]);return(0,a.jsxs)("div",{className:(0,f.Z)(J()["editable-cell"]),children:[(0,a.jsx)(es,{isHtml:m,isDate:u,baseUrl:r,value:t}),(0,a.jsxs)("div",{className:(0,f.Z)(J().button,"side"),children:[(0,a.jsxs)("div",{className:"side",children:[(0,a.jsx)(el.Z,{id:"1",placement:"bottom",title:"Edit cell",children:(0,a.jsx)(o(),{href:c,className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(X.Z,{size:15})})})}),(0,a.jsx)(el.Z,{id:"2",placement:"bottom",title:"Clone line",children:(0,a.jsx)(y.Z,{onClick:C,disabled:b,className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(Y.Z,{size:15})})})}),(0,a.jsx)(el.Z,{id:"3",placement:"bottom",title:"Insert line",children:(0,a.jsx)(y.Z,{onClick:Z,disabled:j,className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)($.Z,{size:15})})})})]}),(0,a.jsx)("div",{className:"side",children:(0,a.jsx)(el.Z,{id:"1",placement:"bottom",title:"Drop line",children:(0,a.jsx)(y.Z,{className:"btn-icon btn-rounded btn-animated btn-xs",variant:"danger",onClick:w,disabled:N,children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(ee.Z,{size:15})})})})})]})]})},en=()=>(0,a.jsx)(a.Fragment,{}),ei=s(70498),et=s(47240),er=s.n(et),ed=s(12593),ec=s(52806),eo=s(82549),eu=s(24033),em=s(70507),eh=s(23761),ex=s(73958),ep=s(82606),ej=s(50045),ev=s(40272),eb=s(61865),ef=s(37540),eg=s(74578);let eN=eg.z.object({firstName:eg.z.string().min(1,"First name is required"),lastName:eg.z.string().min(1,"Last name is required"),company:eg.z.string().optional()});var ey=e=>{var l,s,i,d,c,m,h,x;let{children:v,onSuccessDeletion:g}=e,[N,k]=(0,n.useState)(!1),Z=(0,eu.useParams)(),[C,w]=(0,n.useState)((0,u.O)()),I=(0,eu.usePathname)(),S=(0,n.useMemo)(()=>{switch(I.split("/").filter(e=>!!e).reverse()[0]){case"subscription":return"tab_summery";case"keys":return"tab_keys";default:return"tab_roles"}},[I]),_=(0,n.useMemo)(()=>Z.id,[Z.id]),{data:R,isLoading:D,isFetching:z}=(0,b.a)({queryKey:[p.YJ,_],queryFn:()=>(0,ei.G)(_)}),{register:B,reset:M,handleSubmit:E,formState:{errors:F,isDirty:L,isSubmitting:U}}=(0,eb.cI)({resolver:(0,ec.F)(eN),mode:"onBlur"}),P=(0,n.useCallback)(()=>{M(),k(e=>!e)},[M]),{isResetPwd:T,isToggleUser:q,isDeletion:O,handleToggleUser:V,handleResetPassword:H,handleUpdate:W,handleDelete:G}=(0,j.hB)({user:R,onSuccessUpdate:()=>k(!1),onSuccessDeletion:g,onSuccessReset:()=>k(!1)});return(0,n.useEffect)(()=>{w((0,u.O)().replace("/subscription","").replace("/keys",""))},[]),(0,a.jsx)("fieldset",{disabled:D||z,children:(0,a.jsx)("div",{className:"contact-body contact-detail-body",children:(0,a.jsx)(ef.Z,{className:"nicescroll-bar",children:(0,a.jsxs)("div",{className:"d-flex flex-xl-nowrap flex-wrap",children:[(0,a.jsxs)("div",{className:"contact-info w-xl-35 w-100",children:[(0,a.jsxs)(em.Z,{children:[(0,a.jsxs)(em.Z.Header,{children:["Profile Information",(0,a.jsx)(y.Z,{size:"sm",variant:N?"danger":"light",className:"btn-icon btn-rounded",onClick:P,children:(0,a.jsx)(el.Z,{placement:"top",title:N?"Close":"Edit",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("span",{className:"feather-icon",children:N?(0,a.jsx)(eo.Z,{}):(0,a.jsx)(K.Z,{})})})})})]}),(0,a.jsx)(em.Z.Body,{children:(0,a.jsx)("form",{onSubmit:E(W),children:(0,a.jsxs)("fieldset",{disabled:U,children:[(0,a.jsxs)("ul",{className:(0,f.Z)("cp-info",{[er().form]:N}),children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:"First name"}),!N&&(0,a.jsx)("span",{children:null!==(m=null==R?void 0:R.firstName)&&void 0!==m?m:"--"}),N&&(0,a.jsxs)("div",{children:[(0,a.jsx)(A.Z.Control,{size:"sm",type:"text",...B("firstName"),isInvalid:!!F.firstName,defaultValue:null==R?void 0:R.firstName}),(0,a.jsx)(A.Z.Control.Feedback,{type:"invalid",children:null===(l=F.firstName)||void 0===l?void 0:l.message})]})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:"Last name"}),!N&&(0,a.jsx)("span",{children:null!==(h=null==R?void 0:R.lastName)&&void 0!==h?h:"--"}),N&&(0,a.jsxs)("div",{children:[(0,a.jsx)(A.Z.Control,{size:"sm",type:"text",...B("lastName"),isInvalid:!!F.lastName,defaultValue:null==R?void 0:R.lastName}),(0,a.jsx)(A.Z.Control.Feedback,{type:"invalid",children:null===(s=F.lastName)||void 0===s?void 0:s.message})]})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:"Company"}),!N&&(0,a.jsx)("span",{children:null==R?void 0:R.company}),N&&(0,a.jsxs)("div",{children:[(0,a.jsx)(A.Z.Control,{size:"sm",type:"text",...B("company"),isInvalid:!!F.company,defaultValue:null==R?void 0:R.company}),(0,a.jsx)(A.Z.Control.Feedback,{type:"invalid",children:null===(i=F.company)||void 0===i?void 0:i.message})]})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:"Email"}),(0,a.jsx)("span",{children:null==R?void 0:R.email})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{children:"User name"}),(0,a.jsx)("span",{children:null!==(x=null==R?void 0:R.username)&&void 0!==x?x:"--"})]})]}),N&&(0,a.jsx)(y.Z,{type:"submit",size:"sm",disabled:!L,children:"Submit"})]})})})]}),(0,a.jsx)("div",{className:"separator-full"}),R&&!!(null===(d=R.roles)||void 0===d?void 0:d.length)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(em.Z,{children:[(0,a.jsx)(em.Z.Header,{children:"Roles"}),(0,a.jsx)(em.Z.Body,{className:"d-flex gap-2 flex-wrap",children:R.roles.map(e=>{switch(e.name){case ed.GW.ADMIN:return(0,a.jsx)(eh.Z,{bg:"primary",children:e.name},e.id);case ed.GW.WEB_USER:return(0,a.jsx)(eh.Z,{bg:"secondary",children:e.name},e.id);case ed.GW.API_USER:return(0,a.jsx)(eh.Z,{bg:"success",children:e.name},e.id);default:return(0,a.jsx)(eh.Z,{bg:"warning",children:e.name},e.id)}})})]}),(0,a.jsx)("div",{className:"separator-full"})]}),(0,a.jsxs)(em.Z,{children:[(0,a.jsx)(em.Z.Header,{children:"Actions"}),(0,a.jsx)(em.Z.Body,{children:(0,a.jsxs)("ul",{className:"cp-action",children:[(null==R?void 0:R.enabled)&&(0,a.jsx)("li",{children:(0,a.jsxs)(y.Z,{variant:"outline-secondary",style:{display:"flex",gap:10,alignItems:"center"},size:"sm",onClick:V,disabled:q,children:[(0,a.jsx)(ex.Z,{size:15}),"Disable"]})}),R&&!R.enabled&&(0,a.jsx)("li",{children:(0,a.jsxs)(y.Z,{variant:"outline-success",style:{display:"flex",gap:10,alignItems:"center"},size:"sm",onClick:V,disabled:q,children:[(0,a.jsx)(ex.Z,{size:15}),"Enable"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(y.Z,{variant:"outline-primary",style:{display:"flex",gap:10,alignItems:"center"},size:"sm",onClick:H,disabled:T,children:[(0,a.jsx)(ep.Z,{size:15}),"Reset password"]})}),(0,a.jsx)("li",{children:(0,a.jsxs)(y.Z,{variant:"outline-danger",style:{display:"flex",gap:10,alignItems:"center"},size:"sm",onClick:()=>G(),disabled:O,children:[(0,a.jsx)(ej.Z,{size:15}),"Delete User"]})})]})})]})]}),(0,a.jsx)("div",{className:"contact-more-info",children:(0,a.jsxs)(r.Z.Container,{defaultActiveKey:S,children:[(0,a.jsxs)(t.Z,{variant:"tabs",className:"nav-line nav-icon nav-light",children:[(0,a.jsx)(t.Z.Item,{children:(0,a.jsxs)(t.Z.Link,{as:o(),eventKey:"tab_roles",href:(0,u.zo)(C,"/"),replace:!0,children:[(0,a.jsx)("span",{className:"nav-icon-wrap",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(ev.Z,{})})}),(0,a.jsx)("span",{className:"nav-link-text",children:"Manage roles"})]})}),!!(null==R?void 0:null===(c=R.roles)||void 0===c?void 0:c.find(e=>e.name===ed.GW.API_USER))&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.Z.Item,{children:(0,a.jsxs)(t.Z.Link,{as:o(),eventKey:"tab_summery",replace:!0,href:(0,u.zo)(C,"/","subscription"),children:[(0,a.jsx)("span",{className:"nav-icon-wrap",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(ev.Z,{})})}),(0,a.jsx)("span",{className:"nav-link-text",children:"Subscription"})]})}),(0,a.jsx)(t.Z.Item,{children:(0,a.jsxs)(t.Z.Link,{as:o(),eventKey:"tab_keys",replace:!0,href:(0,u.zo)(C,"/","keys"),children:[(0,a.jsx)("span",{className:"nav-icon-wrap",children:(0,a.jsx)("span",{className:"feather-icon",children:(0,a.jsx)(ev.Z,{})})}),(0,a.jsx)("span",{className:"nav-link-text",children:"Keys"})]})})]})]}),(0,a.jsx)(r.Z.Content,{className:"mt-7",children:v})]})})]})})})})},ek=e=>{let{control:l,name:s,defaultValue:n=!1,label:i,...t}=e;return(0,a.jsx)(eb.Qr,{control:l,name:s,render:e=>{let{field:l}=e;return(0,a.jsx)(A.Z.Switch,{...t,...l,onChange:()=>l.onChange(!l.value),label:i,checked:l.value})}})},eZ=s(96888),eC=s(17906),ew=s.n(eC),eI=e=>{let{control:l,name:s,defaultValue:n=[],...i}=e,{selected:t,options:r,handleSelect:d,handleInsert:c}=(0,j.SE)(n.map(e=>({value:e,label:e})));return(0,a.jsx)(eb.Qr,{control:l,name:s,render:e=>{let{field:l}=e;return(0,a.jsx)(eZ.Z,{...i,...l,isMulti:!0,onCreateOption:e=>{c(e,l.onChange)},onChange:e=>{d(e.map(e=>({...e})),l.onChange)},className:ew()["select-container"],classNamePrefix:"react-select",value:t,options:r})}})},eS=e=>{let{name:l,control:s,options:i,defaultValue:t,splitOptions:r=!1,...d}=e,c=(0,n.useMemo)(()=>i.map(e=>({value:e,label:r?(0,u.s1)(e):e})),[i,r]);return(0,a.jsx)(eb.Qr,{control:s,name:l,render:e=>{let{field:l}=e;return(0,a.jsx)(Z.ZP,{...d,onBlur:l.onBlur,options:c,onChange:e=>{Array.isArray(e)?l.onChange(e.map(e=>e.value)):l.onChange(e.value)},defaultValue:{value:t,label:r?(0,u.kC)((0,u.s1)(null!=t?t:"")):t},className:ew()["select-container"],classNamePrefix:"react-select"})}})},e_=e=>(0,a.jsx)(Z.ZP,{...e,className:(0,f.Z)(e.className,ew()["select-container"]),classNamePrefix:"react-select"}),eR=s(32405),eD=s(80600),ez=s(12240),eB=s.n(ez),eA=e=>{let{data:l,isActive:s=!1,onActivate:i,onSetEdit:t,notifier:r=u.U0}=e,d=(0,n.useCallback)(async()=>{await navigator.clipboard.writeText(l.token),r.success("Key successfully copied !")},[l.token,r]);return(0,a.jsxs)("div",{className:(0,f.Z)(eB().key,{[eB().active]:s}),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eR.Z,{size:30}),(0,a.jsx)("span",{className:"border d-block f6 mt-1 px-1 rounded color-fg-muted",children:"JWT"})]}),(0,a.jsxs)("div",{className:eB().content,children:[(0,a.jsx)("strong",{className:"d-block",children:l.name}),(0,a.jsx)("span",{className:eB().code,children:(0,a.jsx)("span",{children:l.token})}),(0,a.jsx)(A.Z.Switch,{checked:l.isActive,onChange:()=>i(l.id)})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)(el.Z,{id:"2",placement:"bottom",title:"Copy key",children:(0,a.jsx)(y.Z,{className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",onClick:d,children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(Y.Z,{size:15})})})}),!s&&(0,a.jsx)(el.Z,{id:"3",placement:"bottom",title:"Edit key",children:(0,a.jsx)(y.Z,{onClick:()=>t(l.id),className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(X.Z,{size:15})})})}),s&&(0,a.jsx)(el.Z,{id:"3",placement:"bottom",title:"Edit key",children:(0,a.jsx)(y.Z,{onClick:()=>t(""),className:"btn-icon btn-rounded btn-animated btn btn-flush-primary btn-xs",children:(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)(eD.Z,{size:15})})})})]})]})},eM=s(71364),eE=s.n(eM),eF=e=>{let{keys:l,onActivate:s,onSetEdit:n,activeKey:i}=e;return(0,a.jsx)("ul",{className:(0,f.Z)(eE().list,"mt-3"),children:l.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(eA,{data:e,onActivate:s,onSetEdit:n,isActive:i===e.id})},e.id))})}},99310:function(e,l,s){"use strict";var a,n,i,t,r,d;s.d(l,{A$:function(){return n},Tr:function(){return i},mA:function(){return a}}),(t=a||(a={})).Scraping="Scraping",t.WebBrowser="WebBrowser",t.Json="Json",t.LocalFile="LocalFile",(r=n||(n={})).ReplaceText="ReplaceText",r.RemoveNode="RemoveNode",r.ReplaceNodeInnerHtml="ReplaceNodeInnerHtml",r.DeserializeString="DeserializeString",r.Containerise="Containerise",r.FlattenChildrenNodes="FlattenChildrenNodes",r.ExtractNodes="ExtractNodes",(d=i||(i={})).FeedScrapingPdfCIRO="FeedScrapingPdfCIRO",d.FeedScrapingHK="FeedScrapingHK",d.FeedScrapingWithConfig="FeedScrapingWithConfig"},68132:function(e,l,s){"use strict";var a,n;s.d(l,{Y:function(){return a}}),(n=a||(a={})).Topic="Topic",n.Regulator="Regulator"},12593:function(e,l,s){"use strict";s.d(l,{FI:function(){return o},mf:function(){return u},Wz:function(){return m},d0:function(){return c},Tr:function(){return h.Tr},GW:function(){return d},mA:function(){return h.mA},A$:function(){return h.A$}});var a,n,i,t,r,d,c,o,u,m,h=s(99310);s(68132),(a=d||(d={})).ADMIN="Admin",a.WEB_USER="WebUser",a.API_USER="ApiUser",(n=c||(c={})).Daily="Daily",n.Weekly="Weekly",n.BiWeekly="BiWeekly",n.Monthly="Monthly",n.Custom="Custom",(i=o||(o={})).Http="Http",i.Email="Email",i.Sftp="Sftp",(t=u||(u={})).Test="Test",t.Uat="Uat",t.Production="Production",(r=m||(m={})).Json="Json",r.Xml="Xml",r.Excel="Excel",r.Csv="Csv"},47240:function(e){e.exports={form:"style_form___yMwr"}},52687:function(e){e.exports={"editable-cell":"Style_editable-cell__JTCIL",button:"Style_button__YbYSE"}},23129:function(e){e.exports={page:"style_page__e6uiQ","detail-list":"style_detail-list__uXl8r",moreInfo:"style_moreInfo__188GD",table:"style_table__adTId"}},56329:function(e){e.exports={line:"RulebookTableOfContentLine_line__mGPEJ"}},12240:function(e){e.exports={key:"style_key__J5UWr",active:"style_active__7M5Ve",content:"style_content__EtGWj",code:"style_code__0iFsn"}},71364:function(e){e.exports={list:"style_list__LLb8B"}},17906:function(e){e.exports={"select-container":"common_select-container__UZshb"}}}]);