exports.id=9953,exports.ids=[9953],exports.modules={57263:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var s=r(3729),a=r.n(s),n=r(7470),i=r.n(n);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var o=(0,s.forwardRef)(function(e,t){var r=e.color,s=e.size,n=void 0===s?24:s,i=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["color","size"]);return a().createElement("svg",l({ref:t,xmlns:"http://www.w3.org/2000/svg",width:n,height:n,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),a().createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),a().createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))});o.propTypes={color:i().string,size:i().oneOfType([i().string,i().number])},o.displayName="Edit";let c=o},1233:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>$});var s=r(95344),a=r(9445),n=r(44156),i=r(64480),l=r(29864),o=r(65651),c=r(51848),d=r(3729),u=r.n(d),h=r(24311),p=r(39448),x=r(22299),j=r(97661),f=r(69204),m=r(53409),Z=r(30672),g=r(86483);let b=["quickFilterParser","quickFilterFormatter","debounceMs"],y=(0,p.ZP)(h.Z,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(e,t)=>t.toolbarQuickFilter})(({theme:e})=>({width:"auto",paddingBottom:e.spacing(.5),"& input":{marginLeft:e.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(e.vars||e).palette.divider}`},[`& input[type=search]::-ms-clear,
& input[type=search]::-ms-reveal`]:{display:"none",width:0,height:0},[`& input[type="search"]::-webkit-search-decoration,
  & input[type="search"]::-webkit-search-cancel-button,
  & input[type="search"]::-webkit-search-results-button,
  & input[type="search"]::-webkit-search-results-decoration`]:{display:"none"}})),v=e=>e.split(" ").filter(e=>""!==e),C=e=>e.join(" ");function S(e){var t,r;let a=(0,j.l)(),n=(0,f.B)(),i=(0,m.P)(a,Z.Az),{quickFilterParser:l=v,quickFilterFormatter:u=C,debounceMs:h=n.filterDebounceMs}=e,p=(0,c.Z)(e,b),[S,F]=d.useState(()=>u(null!=i?i:[])),T=d.useRef(i);d.useEffect(()=>{(0,g.xb)(T.current,i)||(T.current=i,F(e=>(0,g.xb)(l(e),i)?e:u(null!=i?i:[])))},[i,u,l]);let w=d.useCallback(e=>{let t=l(e);T.current=t,a.current.setQuickFilterValues(t)},[a,l]),O=d.useMemo(()=>(0,x.Z)(w,h),[w,h]),k=d.useCallback(e=>{let t=e.target.value;F(t),O(t)},[O]),_=d.useCallback(()=>{F(""),w("")},[w]);return(0,s.jsx)(y,(0,o.Z)({as:n.slots.baseTextField,ownerState:n,variant:"standard",value:S,onChange:k,placeholder:a.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":a.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},p,{InputProps:(0,o.Z)({startAdornment:(0,s.jsx)(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:(0,s.jsx)(n.slots.baseIconButton,(0,o.Z)({"aria-label":a.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:{visibility:S?"visible":"hidden"},onClick:_},null==(t=n.slotProps)?void 0:t.baseIconButton,{children:(0,s.jsx)(n.slots.quickFilterClearIcon,{fontSize:"small"})}))},p.InputProps)},null==(r=n.slotProps)?void 0:r.baseTextField))}var F=r(94142),T=r(26274),w=r(81271),O=r(31296),k=r(56815);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let _=(0,r(69224).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var N=r(78154),U=r(65957),L=r(12049),I=r(57263),A=r(45894),P=r(7470),q=r.n(P);function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}var E=(0,d.forwardRef)(function(e,t){var r=e.color,s=e.size,a=void 0===s?24:s,n=function(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["color","size"]);return u().createElement("svg",D({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),u().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}))});E.propTypes={color:q().string,size:q().oneOfType([q().string,q().number])},E.displayName="Play";var G=r(66635),R=r(69451),V=r.n(R);function B(){return s.jsx("div",{children:s.jsx(S,{color:"secondary",style:{maxWidth:300,padding:10},quickFilterParser:e=>e.split(",").map(e=>e.trim()).filter(e=>""!==e)})})}let $=({feedsSettings:e,notifier:t=l.U,getAllFeedsAction:r=a.rU,deleteAction:o=a.gc,runFeedAction:c=a.zB})=>{let[u,h]=(0,d.useState)(!1),[p,x]=(0,d.useState)(!1),[j,f]=(0,d.useState)(""),[m,Z]=(0,d.useState)(null),[g,b]=(0,d.useState)(null),y=(0,T.NL)(),v=(0,d.useCallback)(async()=>await r(),[r]),{data:C}=(0,w.a)({queryKey:["feedSettings"],queryFn:v,initialData:e}),S=(0,d.useMemo)(()=>C?.find(e=>e.id===m),[C,m]),P=(0,d.useCallback)(async e=>{h(!0),"SUCCESS"===await t.toastDeletionAsync(async()=>{if(!await t.displayDeleteAlert())throw Error("CANCEL");return await o(e),"SUCCESS"})&&await y.invalidateQueries({queryKey:["feedSettings"]}),h(!1)},[o,t,y]),{mutateAsync:q,isPending:D}=(0,O.D)({mutationFn:async({id:e,html:r})=>{let s=t.startLoading("Run in progress");b(await c(e,r)),t.stopLoading(s)}}),R=(0,d.useMemo)(()=>C?.map(e=>({id:e.id,rulebookId:e.ruleBook.id,rulebookName:e.ruleBook.name,rulebookDescription:e.ruleBook.description,runType:e.runType}))??[],[C]),$=(0,d.useMemo)(()=>[{field:"rulebookName",headerName:"Rulebook Name",sortable:!0,width:500},{field:"rulebookDescription",headerName:"Rulebook description",sortable:!0,width:500},{field:"actions",type:"actions",width:300,getActions:e=>[s.jsx(n.Z,{id:"3",placement:"bottom",title:"Update",children:s.jsx(N.Z,{variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover edit-btn",href:`/apps/feed-settings/form/${e.id}`,disabled:p,children:s.jsx("span",{className:"btn-icon-wrap",children:s.jsx("span",{className:"feather-icon",children:s.jsx(I.Z,{})})})},1)},1),s.jsx(n.Z,{id:"3",placement:"bottom",title:"Delete",children:s.jsx(N.Z,{role:"deleteItem",onClick:()=>P(e.id.toString()),variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover delete-btn",disabled:p,children:s.jsx("span",{className:"btn-icon-wrap",children:s.jsx("span",{className:"feather-icon",children:s.jsx(A.Z,{color:"red"})})})},2)},2),e.row.runType===i.mA.WebBrowser?s.jsx(n.Z,{id:"3",placement:"bottom",title:"Run",children:s.jsx(N.Z,{role:"Run",onClick:()=>{Z(e.id.toString()),x(!0)},variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover delete-btn",disabled:p,children:s.jsx("span",{className:"btn-icon-wrap",children:s.jsx("span",{className:"feather-icon",children:s.jsx(E,{color:"green"})})})})},3):s.jsx(n.Z,{id:"3",placement:"bottom",title:"Run",children:s.jsx(N.Z,{role:"Run",onClick:async()=>{await q({id:e.id.toString(),html:null}),f("")},variant:"flush-dark",className:"btn-icon btn-rounded flush-soft-hover delete-btn",disabled:p,children:s.jsx("span",{className:"btn-icon-wrap",children:s.jsx("span",{className:"feather-icon",children:s.jsx(E,{color:"green"})})})})},3)]}],[P,p,q]);return(0,s.jsxs)("div",{children:[s.jsx(U.Z.Dialog,{children:(0,s.jsxs)(U.Z,{size:"lg",show:p&&!!S,onHide:()=>x(!1),children:[s.jsx(U.Z.Header,{children:"Html content"}),s.jsx(U.Z.Body,{children:S&&(0,s.jsxs)("div",{className:V().modal,children:[s.jsx("a",{href:S.ruleBook.feedUrl,target:"_blank",children:"Click here to get html"}),s.jsx(L.Z.Control,{as:"textarea",onChange:e=>f(e.target.value),value:j}),s.jsx(N.Z,{variant:"success",className:"mt-3",onClick:async()=>{x(!1),await q({id:m??"",html:j}),f("")},disabled:!j.trim().length||!m,children:"Run"})]})})]})}),s.jsx(U.Z.Dialog,{children:s.jsx(U.Z,{size:"sm",show:!!g,onHide:()=>b(null),children:g&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(U.Z.Header,{children:"Scraping result"}),(0,s.jsxs)(U.Z.Body,{className:V()["scraping-result-modal"],children:[g.isSuccess?(0,s.jsxs)("div",{className:(0,k.Z)(V().status,V().success),children:[s.jsx(G.Z,{color:"green",size:60}),s.jsx("h2",{children:"Success"})]}):(0,s.jsxs)("div",{className:(0,k.Z)(V().status,V().error),children:[s.jsx(_,{color:"red",size:60}),s.jsx("h2",{children:"Failed"})]}),s.jsx("h5",{children:g.message}),g.count>0&&(0,s.jsxs)("span",{children:[g.count," details founds"]})]})]})})}),s.jsx(F._$,{columns:$,disableColumnFilter:!0,disableColumnSelector:!0,disableDensitySelector:!0,rows:R,slots:{toolbar:B},loading:u,slotProps:{toolbar:{showQuickFilter:!0}}})]})}},95943:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var s=r(95344),a=r(9445),n=r(32128),i=r.n(n),l=r(50940),o=r(18204),c=r(91602),d=r(54881),u=r(69106),h=r(26274),p=r(31296),x=r(3729),j=r(73646),f=r(21204),m=r(95209),Z=r(12049),g=r(78154),b=r(60708),y=r(85406);let v=({defaultValues:e,rulebooks:t,notifier:r=u.U0,updateAction:n=a.Vp,creationAction:v=a.H4,updateId:C})=>{let{control:S,handleSubmit:F,formState:{errors:T,isDirty:w},register:O,watch:k,setError:_,reset:N}=(0,b.cI)({resolver:d.F_,mode:"onBlur",defaultValues:e}),{append:U,remove:L,fields:I}=(0,b.Dq)({control:S,name:"feedSettingCleanupConfigs"}),A=k("runType"),P=(0,h.NL)(),q=(0,x.useMemo)(()=>t?.map(e=>({label:e.name,value:e.id}))??[],[t]),D=(0,x.useCallback)(async e=>{if(e?.status===400){let t=e.errors;throw t||(t=(await e.json()).errors),Object.entries(t).forEach(([e,t])=>{_((0,u.js)(e),{type:"manual",message:t[0]??"Invalid"})}),Error("UNKNOWN")}return"SUCCESS"},[_]),{mutateAsync:E,isPending:G}=(0,p.D)({mutationFn:async e=>await r.toastCreationAsync(async()=>D(await v(e)))}),{mutateAsync:R,isPending:V}=(0,p.D)({mutationFn:async e=>await r.toastCreationAsync(async()=>D(await n(C??"",e)))}),B=(0,x.useCallback)(async e=>{"SUCCESS"===("create"===C?await E(e):await R(e))&&(await P.invalidateQueries({queryKey:["feedSettings","rulebooks"]}),"create"===C&&N())},[E,P,N,R,C]);return s.jsx("fieldset",{disabled:G||V,children:(0,s.jsxs)("form",{onSubmit:F(B),children:[s.jsx(j.Z,{className:"mb-4",children:(0,s.jsxs)(j.Z.Item,{eventKey:"0",children:[s.jsx(j.Z.Header,{children:"Clean html config"}),s.jsx(j.Z.Body,{children:(0,s.jsxs)("div",{className:"mh-350p overflow-auto",children:[I.map((t,r)=>(0,s.jsxs)("fieldset",{className:"border border-1 p-3 mb-3 rounded-1",children:[(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:`feedSettingCleanupConfigs.${r}.newTextOrHtml`,children:"New text or html"}),s.jsx(Z.Z.Control,{...O(`feedSettingCleanupConfigs.${r}.newTextOrHtml`)})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:`feedSettingCleanupConfigs.${r}.oldText`,children:"Old text"}),s.jsx(Z.Z.Control,{...O(`feedSettingCleanupConfigs.${r}.oldText`)})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:`feedSettingCleanupConfigs.${r}.xpath`,children:"XPath"}),s.jsx(Z.Z.Control,{...O(`feedSettingCleanupConfigs.${r}.xpath`)})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:`feedSettingCleanupConfigs.${r}.typeOfModification`,children:"Type of modification"}),s.jsx(l.SelectListString,{control:S,name:`feedSettingCleanupConfigs.${r}.typeOfModification`,className:i()["select-container"],classNamePrefix:"react-select",options:Object.values(c.A$),defaultValue:e.feedSettingCleanupConfigs?.[r]?.typeOfModification??"",splitOptions:!0})]})})]}),s.jsx(g.Z,{onClick:()=>L(r),variant:"danger",className:"mt-2",children:"Remove"})]},r)),(0,s.jsxs)("div",{className:"d-flex gap-2",children:[s.jsx(g.Z,{onClick:()=>U({newTextOrHtml:"",oldText:"",xpath:"",typeOfModification:void 0}),variant:"outline-primary",children:"Add config"}),s.jsx(g.Z,{type:"submit",disabled:!w,children:"Save changes"})]})]})})]})}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"ruleBookId",children:"Rulebooks"}),s.jsx(b.Qr,{render:({field:r})=>s.jsx(y.ZP,{...r,options:q,defaultValue:t?.filter(t=>t.id===e.ruleBookId).map(e=>({value:e.id,label:e.name})),onChange:e=>{r.onChange(e?.value??"")},value:q.find(e=>e.value===r.value)}),name:"ruleBookId",control:S}),s.jsx(o.Z,{errors:T.ruleBookId})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"mainContainer",children:"Main container selector"}),s.jsx(Z.Z.Control,{...O("mainContainer"),defaultValue:e.mainContainer,isInvalid:!!T.mainContainer}),s.jsx(o.Z,{errors:T.mainContainer})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"partOrUsTitleContainer",children:"Part of us title container selector"}),s.jsx(Z.Z.Control,{...O("partOrUsTitleContainer"),defaultValue:e.partOrUsTitleContainer,isInvalid:!!T.partOrUsTitleContainer}),s.jsx(o.Z,{errors:T.partOrUsTitleContainer})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"partOrUsTitleText",children:"Part or us title text selector"}),s.jsx(Z.Z.Control,{...O("partOrUsTitleText"),defaultValue:e.partOrUsTitleText,isInvalid:!!T.partOrUsTitleText}),s.jsx(o.Z,{errors:T.partOrUsTitleText})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"titleOrUsChapterContainer",children:"Title or us chapter container selector"}),s.jsx(Z.Z.Control,{...O("titleOrUsChapterContainer"),defaultValue:e.titleOrUsChapterContainer,isInvalid:!!T.titleOrUsChapterContainer}),s.jsx(o.Z,{errors:T.titleOrUsChapterContainer})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"titleOrUsChapterText",children:"Title or us chapter text selector"}),s.jsx(Z.Z.Control,{...O("titleOrUsChapterText"),defaultValue:e.titleOrUsChapterText,isInvalid:!!T.titleOrUsChapterText}),s.jsx(o.Z,{errors:T.titleOrUsChapterText})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"chapterOrUsPartContainer",children:"Chapter or us part container selector"}),s.jsx(Z.Z.Control,{...O("chapterOrUsPartContainer"),defaultValue:e.chapterOrUsPartContainer,isInvalid:!!T.chapterOrUsPartContainer}),s.jsx(o.Z,{errors:T.chapterOrUsPartContainer})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"chapterOrUsPartText",children:"Chapter or us part text selector"}),s.jsx(Z.Z.Control,{...O("chapterOrUsPartText"),defaultValue:e.chapterOrUsPartText,isInvalid:!!T.chapterOrUsPartText}),s.jsx(o.Z,{errors:T.chapterOrUsPartText})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"sectionContainer",children:"Section container selector"}),s.jsx(Z.Z.Control,{...O("sectionContainer"),defaultValue:e.sectionContainer,isInvalid:!!T.sectionContainer}),s.jsx(o.Z,{errors:T.sectionContainer})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"sectionText",children:"Section text selector"}),s.jsx(Z.Z.Control,{...O("sectionText"),defaultValue:e.sectionText,isInvalid:!!T.sectionText}),s.jsx(o.Z,{errors:T.sectionText})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"articleContainer",children:"Article container selector"}),s.jsx(Z.Z.Control,{...O("articleContainer"),defaultValue:e.articleContainer,isInvalid:!!T.articleContainer}),s.jsx(o.Z,{errors:T.articleContainer})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"articleText",children:"Article text selector"}),s.jsx(Z.Z.Control,{...O("articleText"),defaultValue:e.articleText,isInvalid:!!T.articleText}),s.jsx(o.Z,{errors:T.articleText})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"paragraphContainer",children:"Paragraph container selector"}),s.jsx(Z.Z.Control,{...O("paragraphContainer"),defaultValue:e.paragraphContainer,isInvalid:!!T.paragraphContainer}),s.jsx(o.Z,{errors:T.paragraphContainer})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"paragraphText",children:"Paragraph text selector"}),s.jsx(Z.Z.Control,{...O("paragraphText"),defaultValue:e.paragraphText,isInvalid:!!T.paragraphText}),s.jsx(o.Z,{errors:T.paragraphText})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"effectiveDateContainer",children:"Effective date container selector"}),s.jsx(Z.Z.Control,{...O("effectiveDateContainer"),defaultValue:e.effectiveDateContainer,isInvalid:!!T.effectiveDateContainer}),s.jsx(o.Z,{errors:T.effectiveDateContainer})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"effectiveDateText",children:"Effective date text selector"}),s.jsx(Z.Z.Control,{...O("effectiveDateText"),defaultValue:e.effectiveDateText,isInvalid:!!T.effectiveDateText}),s.jsx(o.Z,{errors:T.effectiveDateText})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"effectiveDateFormat",children:"Effective date format selector"}),s.jsx(Z.Z.Control,{...O("effectiveDateFormat"),defaultValue:e.effectiveDateFormat,isInvalid:!!T.effectiveDateFormat}),s.jsx(o.Z,{errors:T.effectiveDateFormat})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"note",children:"Note selector"}),s.jsx(Z.Z.Control,{...O("note"),defaultValue:e.note,isInvalid:!!T.note}),s.jsx(o.Z,{errors:T.note})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"linkBaseUrl",children:"Link base url"}),s.jsx(Z.Z.Control,{...O("linkBaseUrl"),defaultValue:e.linkBaseUrl,isInvalid:!!T.linkBaseUrl}),s.jsx(o.Z,{errors:T.linkBaseUrl})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"defaultLinkPage",children:"Default link page"}),s.jsx(Z.Z.Control,{...O("defaultLinkPage"),defaultValue:e.defaultLinkPage,isInvalid:!!T.defaultLinkPage}),s.jsx(o.Z,{errors:T.defaultLinkPage})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"footNote",children:"Foot note"}),s.jsx(Z.Z.Control,{...O("footNote"),defaultValue:e.footNote,isInvalid:!!T.footNote}),s.jsx(o.Z,{errors:T.footNote})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"extraNote",children:"Extra note"}),s.jsx(Z.Z.Control,{...O("extraNote"),defaultValue:e.extraNote,isInvalid:!!T.extraNote}),s.jsx(o.Z,{errors:T.extraNote})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"extra2",children:"Extra 2"}),s.jsx(Z.Z.Control,{...O("extra2"),defaultValue:e.extra2,isInvalid:!!T.extra2}),s.jsx(o.Z,{errors:T.extra2})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"extra3",children:"Extra 3"}),s.jsx(Z.Z.Control,{...O("extra3"),defaultValue:e.extra3,isInvalid:!!T.extra3}),s.jsx(o.Z,{errors:T.extra3})]})})]}),s.jsx(f.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"customCssPath",children:"Custom css path"}),s.jsx(Z.Z.Control,{...O("customCssPath")}),s.jsx(o.Z,{errors:T.customCssPath})]})}),s.jsx(f.Z,{children:s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"methodType",children:"Method"}),s.jsx(l.SelectListString,{control:S,name:"methodType",className:i()["select-container"],classNamePrefix:"react-select",options:Object.values(c.Tr),defaultValue:e.methodType,splitOptions:!0}),s.jsx(o.Z,{errors:T.methodType})]})})}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"runType",children:"Run type"}),s.jsx(l.SelectListString,{control:S,name:"runType",className:i()["select-container"],classNamePrefix:"react-select",options:Object.values(c.mA),defaultValue:e.runType,splitOptions:!0}),s.jsx(o.Z,{errors:T.runType})]})}),A===c.mA.LocalFile&&s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"localPath",children:"Local file path"}),s.jsx(Z.Z.Control,{...O("localPath"),defaultValue:e.localPath??"",isInvalid:!!T.localPath}),s.jsx(o.Z,{errors:T.localPath})]})})]}),A===c.mA.Scraping&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("h3",{className:"mt-3",children:"Http setting"}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"httpSetting.encoding",children:"Encoding"}),s.jsx(Z.Z.Control,{...O("httpSetting.encoding"),defaultValue:e.httpSetting?.encoding??"",isInvalid:!!T.httpSetting?.encoding}),s.jsx(o.Z,{errors:T.httpSetting?.encoding})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(Z.Z.Label,{htmlFor:"httpSetting.contentType",children:"Content type"}),s.jsx(Z.Z.Control,{...O("httpSetting.contentType"),defaultValue:e.httpSetting?.contentType??"",isInvalid:!!T.httpSetting?.contentType}),s.jsx(o.Z,{errors:T.httpSetting?.contentType})]})})]}),(0,s.jsxs)(f.Z,{children:[s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(l.CheckboxControl,{control:S,name:"httpSetting.setActualUserAgent",label:"Set actual user agent",defaultValue:e.httpSetting?.setActualUserAgent}),s.jsx(o.Z,{errors:T.httpSetting?.setActualUserAgent})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(l.CheckboxControl,{control:S,name:"httpSetting.useChromeAgent",label:"Use chrome agent",defaultValue:e.httpSetting?.useChromeAgent}),s.jsx(o.Z,{errors:T.httpSetting?.useChromeAgent})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(l.CheckboxControl,{control:S,name:"httpSetting.useTls10",label:"Use Tls10",defaultValue:e.httpSetting?.useTls10}),s.jsx(o.Z,{errors:T.httpSetting?.useTls10})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(l.CheckboxControl,{control:S,name:"httpSetting.useTls11",label:"Use Tls11",defaultValue:e.httpSetting?.useTls11}),s.jsx(o.Z,{errors:T.httpSetting?.useTls11})]})}),s.jsx(m.Z,{children:(0,s.jsxs)(Z.Z.Group,{children:[s.jsx(l.CheckboxControl,{control:S,name:"httpSetting.useSSL",label:"Use ssl",defaultValue:e.httpSetting?.useSSL}),s.jsx(o.Z,{errors:T.httpSetting?.useSSL})]})})]})]}),s.jsx("div",{className:"d-flex justify-content-end mt-3",children:s.jsx(g.Z,{type:"submit",disabled:!w,children:"Save"})})]})})};var C=r(81271);let S=({initialValue:e,rulebooks:t,feedSettings:r,copyId:n="NAN",updateId:i,getRulebooksAction:l=a.rF,getFeedSettingsAction:o=a.rU})=>{let[c,d]=(0,x.useState)(n),u=(0,x.useCallback)(async()=>await l(),[l]),h=(0,x.useCallback)(async()=>await o(),[o]),{data:p}=(0,C.a)({queryKey:["rulebooks"],initialData:t,queryFn:u}),{data:j}=(0,C.a)({queryKey:["feedSettings"],queryFn:h,initialData:r});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(f.Z,{className:"mb-3",children:[(0,s.jsxs)(m.Z,{md:4,children:[s.jsx(Z.Z.Label,{children:"Copy settings"}),(0,s.jsxs)(Z.Z.Select,{onChange:e=>d(e.target.value),value:c??"",children:[s.jsx("option",{value:"NAN",children:"Select item"}),j?.map(e=>s.jsx("option",{value:e.id,children:e.ruleBook.name},e.id))]})]}),s.jsx(m.Z,{md:2,style:{display:"flex",alignItems:"end"},children:"NAN"!==c&&s.jsx(g.Z,{as:"a",href:`/apps/feed-settings/form/${i}?copy=${c}`,children:"Copy"})})]}),s.jsx(v,{defaultValues:e,rulebooks:p,updateId:i})]})}},18204:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var s=r(95344),a=r(3729),n=r(12049);let i=({errors:e})=>{let t=(0,a.useMemo)(()=>e,[e]),r=(0,a.useMemo)(()=>Array.isArray(t),[t]);return(0,s.jsxs)(s.Fragment,{children:[r&&t&&t.map(e=>s.jsx(n.Z.Control.Feedback,{type:"invalid",children:e.message},e.message)),!r&&s.jsx(n.Z.Control.Feedback,{type:"invalid",children:t?.message})]})}},54881:(e,t,r)=>{"use strict";r.d(t,{F_:()=>h,C0:()=>d});let s=/^(\b(?:\d{1,3}\.){3}\d{1,3}\b)|(\b[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*\.[a-zA-Z]{2,63}\b)$/;var a=r(91602),n=r(52205),i=r(84502);let l=i.Z_().email(e=>`'${e.value}' is not a valid mail address`),o=i.Z_().matches(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)$|^([0-9a-fA-F]{1,4}:){6}(:[0-9a-fA-F]{1,4}|(?<!:):[0-9a-fA-F]{1,4})$|^(([0-9a-fA-F]{1,4}:){0,5}|((::)|(.*::))):([0-9a-fA-F]{1,4}:){0,4}[0-9a-fA-F]{1,4}$|^(([0-9a-fA-F]{1,4}:){0,4}|((::)|(.*::))):([0-9a-fA-F]{1,4}:){0,5}[0-9a-fA-F]{1,4}$|^(([0-9a-fA-F]{1,4}:){0,3}|((::)|(.*::))):([0-9a-fA-F]{1,4}:){0,6}[0-9a-fA-F]{1,4}$|^(([0-9a-fA-F]{1,4}:){0,2}|((::)|(.*::))):([0-9a-fA-F]{1,4}:){0,7}[0-9a-fA-F]{1,4}$|^(([0-9a-fA-F]{1,4}:){0,1}|((::)|(.*::))):([0-9a-fA-F]{1,4}:){0,8}[0-9a-fA-F]{1,4}$|^((::)|(.*::))(([0-9a-fA-F]{1,4}:){0,8}|([0-9a-fA-F]{1,4}:){0,7}[0-9a-fA-F]{1,4})$/,{message:e=>`'${e.value}' is not a valid ip address`}),c=i.Ry().shape({mailingList:i.IX().of(l).min(1,"Mail list should contains at least one item").required("Mail list is a required field"),ipAddressList:i.IX().of(o).min(1,"Ip address lis should contains at least one item").required("Ip address lis is a required field"),frequency:i.Z_().oneOf(Object.values(a.d0)).required("Frequency is a required field"),customFrequency:i.Z_().when("frequency",{is:a.d0.Custom,then:()=>i.Rx().typeError("Invalid number").integer().min(1).required(),otherwise:()=>i.Z_().optional()}),deliveryMethod:i.Z_().oneOf(Object.values(a.FI)).required("Method is a required field"),environment:i.Z_().oneOf(Object.values(a.mf)).required("Environment is a required field"),fileType:i.Z_().oneOf(Object.values(a.Wz)).required("File type is a required field"),startDate:i.hT().typeError("Invalid date").required(),endDate:i.hT().required().min(i.iH("startDate"),"End date must be later than start date"),requestLimit:i.Rx().typeError("Invalid number").integer().max(1e4),testingDaysLimit:i.Rx().typeError("Invalid number").integer().max(1e4),maxSearchDepth:i.Rx().typeError("Invalid number").integer(),url:i.Z_().when("deliveryMethod",{is:a.FI.Http,then:e=>e.url().required(),otherwise:e=>e.optional()}),recipients:i.IX().when("deliveryMethod",{is:a.FI.Email,then:e=>e.of(l).min(1,"Mail list should contains at least one item").required("Mail list is a required field"),otherwise:e=>e.optional()}),ccs:i.IX().of(l).optional(),cci:i.IX().of(l).optional(),subject:i.Z_().optional(),template:i.Z_().optional(),userName:i.Z_().when("deliveryMethod",{is:a.FI.Sftp,then:e=>e.required("This field is required!"),otherwise:e=>e.optional()}),password:i.Z_().when("deliveryMethod",{is:a.FI.Sftp,then:e=>e.required("This field is required!"),otherwise:e=>e.optional()}),folder:i.Z_().when("deliveryMethod",{is:a.FI.Sftp,then:e=>e.required("This field is required!"),otherwise:e=>e.optional()}),host:i.Z_().when("deliveryMethod",{is:a.FI.Sftp,then:e=>e.matches(s,{message:"Invalid host!"}).required("This field is required!"),otherwise:e=>e.optional()}),withTls:i.O7().optional(),isFtp:i.O7().optional(),port:i.Rx().typeError("Invalid number").integer().optional()}),d=(0,n.X)(c),u=i.Ry().shape({ruleBookId:i.Z_().required(),mainContainer:i.Z_(),partOrUsTitleContainer:i.Z_(),partOrUsTitleText:i.Z_(),titleOrUsChapterContainer:i.Z_(),titleOrUsChapterText:i.Z_(),chapterOrUsPartContainer:i.Z_(),chapterOrUsPartText:i.Z_(),sectionContainer:i.Z_(),sectionText:i.Z_(),articleContainer:i.Z_(),articleText:i.Z_(),paragraphContainer:i.Z_(),paragraphText:i.Z_(),effectiveDateContainer:i.Z_(),effectiveDateText:i.Z_(),effectiveDateFormat:i.Z_(),note:i.Z_(),linkBaseUrl:i.Z_(),defaultLinkPage:i.Z_(),footNote:i.Z_(),extraNote:i.Z_(),extra2:i.Z_(),extra3:i.Z_(),customCssPath:i.Z_(),runType:i.Z_().oneOf(Object.values(a.mA)).required("Run type is required"),localPath:i.Z_().when("runType",{is:a.mA.LocalFile,then:()=>i.Z_().required(),otherwise:()=>i.Z_()}),httpSetting:i.Ry().shape({encoding:i.Z_(),connection:i.Z_(),accessToken:i.Z_(),contentType:i.Z_(),setActualUserAgent:i.O7(),useChromeAgent:i.O7(),spoofHost:i.O7(),useTls10:i.O7(),useTls11:i.O7(),useSSL:i.O7(),useTls13:i.O7()}),methodType:i.Z_().oneOf(Object.values(a.Tr))}),h=(0,n.X)(u)},32128:e=>{e.exports={about:"style_about__n_HwQ",line:"style_line__je1i5",title:"style_title__EraPf"}},69451:e=>{e.exports={modal:"style_modal__9ZLFw","scraping-result-modal":"style_scraping-result-modal__uJYKe",status:"style_status__W8VoQ",success:"style_success__P4ige",error:"style_error__FmUJY"}},85701:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(25036);r(40002);let a=({children:e})=>s.jsx(s.Fragment,{children:e})},1029:(e,t,r)=>{"use strict";r.d(t,{o:()=>u,i:()=>l});var s=r(86843);let a=(0,s.createProxy)(String.raw`C:\Users\mevaa\Desktop\WORK\RegBook\RegbookFront\src\components\FeedSetings\FeedSettingDataTable\FeedSettingDataTable.tsx`),{__esModule:n,$$typeof:i}=a,l=a.default,o=(0,s.createProxy)(String.raw`C:\Users\mevaa\Desktop\WORK\RegBook\RegbookFront\src\components\FeedSetings\FeedSettingForm\FeedSettingActionForm.tsx`),{__esModule:c,$$typeof:d}=o,u=o.default},83487:(e,t,r)=>{"use strict";r.d(t,{UserService:()=>l});var s=r(44112),a=r(46517),n=r.n(a),i=r(1424);class l{constructor(e){this.httpClientServer=e}get url(){return i.BASE_USER_URL}async getById(e){let t=await this.httpClientServer.get({url:(0,s.concat)(this.url,"/",e)});return t.ok?await t.json():null}async updateUser(e){return await this.httpClientServer.put({url:(0,s.concat)(this.url,"/",e.id),body:JSON.stringify({firstName:e.firstName,lastName:e.lastName,enabled:e.enabled,company:e.company})})}async resetPassword(e){return await this.httpClientServer.post({url:(0,s.concat)(this.url,"/",e),body:""})}async getAllUsers(e){null!=e&&(e.withUsers=!0);let t=await this.httpClientServer.get({url:this.url,query:e});var r=await t.json(),s=t.headers.get("x-pagination"),a={pageNumber:1,pageSize:10,totalPages:0};return n().isEmpty(s)||(a=JSON.parse(s)),{items:r,pagination:a}}async deleteUser(e){return await this.httpClientServer.delete({url:(0,s.concat)(this.url,"/",e)})}async downLoadUsers(){let e=await this.httpClientServer.get({url:(0,s.concat)(this.url,"/export")});return await e.blob()}async createUser(e){return(await this.httpClientServer.post({url:this.url,body:JSON.stringify({firstName:e.firstName,lastName:e.lastName,email:e.email,roles:e.roles,company:e.company})})).json()}async getUserAvailableRoles(e){return(await this.httpClientServer.get({url:(0,s.concat)(this.url,"/",e,"/available-roles")})).json()}async getUserRoles(){return(await this.httpClientServer.get({url:(0,s.concat)(this.url,"/roles")})).json()}async assignRoles(e,t){return(await this.httpClientServer.post({url:(0,s.concat)(this.url,"/",e,"/roles"),body:JSON.stringify(t)})).ok}async unassignRoles(e,t){return(await this.httpClientServer.baseRequest({method:"DELETE",url:(0,s.concat)(this.url,"/",e,"/roles"),body:JSON.stringify(t)})).ok}async createSubscription(e,t){let r=await this.httpClientServer.post({url:(0,s.concat)(`/api/users/${e}/subscriptions`),body:JSON.stringify(t)});return await r.json()}async updateSubscription(e,t){return(await this.httpClientServer.put({url:(0,s.concat)(`/api/users/${e}/subscriptions`),body:JSON.stringify(t)})).ok}async updateKey(e,t,r){return(await this.httpClientServer.put({url:(0,s.concat)(`/api/users/${e}/apiKeys/${t}`),body:JSON.stringify(r)})).ok}async createKey(e,t){return(await this.httpClientServer.post({url:(0,s.concat)(`/api/users/${e}/apiKeys`),body:JSON.stringify(t)})).ok}}},45321:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(44112);let a=new(r(83487)).UserService(s.httpClientServerImplementation)},1424:(e,t,r)=>{"use strict";r.d(t,{BASE_USER_URL:()=>s});let s="/api/users"},50901:(e,t,r)=>{"use strict";r.d(t,{userServiceImplementation:()=>s.default});var s=r(45321)}};